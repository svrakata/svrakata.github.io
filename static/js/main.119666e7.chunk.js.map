{"version":3,"sources":["assets/logos/company_logo.svg","assets/default_icon.svg","GlobalStyles.ts","pdf.js/normalize_text.js","pdf.js/extract_text.js","pdf.js/highlight.js","utilities/id_generator.ts","pdf.js/events.ts","pdf.js/removeHighlights.js","pdf.js/checks_dispatch_to_dom.js","pdf.js/renderHighlights.js","utilities/unique_values.ts","service/data/demo_data.ts","service/demo_service.ts","redux/actions.ts","redux/types.ts","di_service/service.ts","host/connector.ts","host/ quick_books/connector.ts","host/ quick_books/descriptor.ts","host/bulgarian_law/connector.ts","host/bulgarian_law/descriptor.ts","host/dynamo/connector.ts","host/dynamo/descriptor.ts","host/table_connector/connector.ts","host/table_connector/descriptor.ts","host/descriptor_list.ts","utilities/ensure.ts","ui_app/app/card/redux/actions.ts","ui_app/app/card/redux/types.ts","ui_app/app_store/card_factories/CardFactory.ts","ui_app/app_store/card_factories/BillOfLadingCard.ts","ui_app/app_store/card_factories/CompanyCard.ts","ui_app/app_store/factories.ts","ui_app/app_store/card_factories/ContactCard.ts","ui_app/app_store/card_factories/IndividualCard.ts","ui_app/app_store/card_factories/InvoiceCard.ts","ui_app/app_store/card_factories/PurchaseOrderCard.ts","ui_app/app_store/card_factories/TableCard.ts","ui_app/app_store/redux/actions.ts","ui_app/document/DocItem.tsx","pdf.js/closeDocument.js","pdf.js/openDocument.js","ui_app/document/styles.ts","ui_app/document/DocsMenu.tsx","ui_app/document/redux/actions.ts","ui_app/document/redux/types.ts","components/ViewHeader.tsx","ui_app/app/styles.ts","ui_app/app/card/components/CardActions.tsx","ui_app/app/card/components/CardContent.tsx","ui_app/app/card/components/Avatar.tsx","ui_app/app/card/components/CardHeader.tsx","ui_app/app/card/components/sub_components/Info.tsx","ui_app/app/card/components/sub_components/Default.tsx","ui_app/app/card/components/sub_components/PhoneNumber.tsx","ui_app/app/card/components/CompLoader.ts","ui_app/app/card/components/sub_components/Address.tsx","ui_app/app/card/components/sub_components/BankAccount.tsx","ui_app/app/card/components/sub_components/Ceo.tsx","ui_app/app/card/components/sub_components/YearFounded.tsx","ui_app/app/card/components/sub_components/Industry.tsx","ui_app/app/card/components/sub_components/Noe.tsx","ui_app/app/card/components/sub_components/Sector.tsx","ui_app/app/card/components/sub_components/SubIndustry.tsx","ui_app/app/card/components/sub_components/Url.tsx","ui_app/app/card/components/sub_components/Website.tsx","ui_app/app/card/Card.tsx","ui_app/app/card/CardCompact.tsx","ui_app/app/components/AppActions.tsx","ui_app/app/AllCardsView.tsx","ui_app/app/AppView.tsx","ui_app/app/card/CardView.tsx","components/ContentBox.tsx","ui_app/app_store/styles.ts","ui_app/app_store/components/StoreItem.tsx","ui_app/app_store/components/StoreList.tsx","ui_app/app_store/Store.tsx","ui_app/app/redux/actions.ts","ui_app/app/redux/types.ts","ui_app/app_store/StoreView.tsx","ui_app/app_store/redux/types.ts","ui_app/DefaultView.tsx","ui_app/panel/styles.ts","ui_app/panel/PanelItem.tsx","ui_app/panel/CPanel.tsx","components/Notification.tsx","ui_app/TableView.tsx","ui_app/View.tsx","ui_app/LeftPanel.tsx","App.tsx","ui_app/app/redux/reducers.ts","ui_app/app_store/redux/reducers.ts","ui_app/document/redux/reducers.ts","redux/root.ts","ui_app/app/card/redux/reducers.ts","redux/reducers.ts","redux/store.ts","serviceWorker.ts","index.tsx","assets/card_icons/cpu.svg","assets/card_icons/organization_dynamo.svg","assets/card_icons/individual_dynamo.svg","assets/card_icons/individual_quick_books.svg","assets/card_icons/invoice_icon.svg","assets/card_icons/purchase_order_quick_books.svg","assets/logos/quick_books.png","assets/logos/law.svg","assets/logos/dynamo.png","assets/card_icons/table_icon.svg"],"names":["module","exports","GlobalStyle","createGlobalStyle","CHARACTERS_TO_NORMALIZE","normalizationRegex","normalizeText","text","replace","Object","keys","join","RegExp","ch","extractText","a","app","window","PDFViewerApplication","pagesCount","i","pdfDocument","getPage","page","getTextContent","textContent","push","items","map","str","tag_name","keyword_separator","convertMatches","matches","page_content","iIndex","bidiTexts","end","length","ret","m","len","matchIdx","queryLen","matchedText","console","error","match","begin","divIdx","offset","renderMatches","text_divs","prometheus_hash","log","textDivs","prevEnd","infinity","undefined","i0","i1","duplicate_index","key","toLowerCase","index","match_data","cls","type","entityItems","serviceName","entityType","attr","id","appId","originalName","assign","build_tag_attr","appendTextToDiv","beginText","n0","n1","className","forEach","setAttribute","fromOffset","toOffset","div","content","substring","node","document","createTextNode","span","createElement","appendChild","get_page_content","pdf_document","page_number","get_text_from_page_content","item","get_text_divs","page_index","pageView","pdfViewer","getPageView","textLayer","find_matches","page_text","reg_exp","sorted_words","words","sort","b","_sort_words_by_length","word","_encode_words","_collect_prometheus_matches","regStr","_build_reg_exp","result","last_index","exec","trim","build_prometheus_hash","prometheus_result","reduce","set_keyword_separator","value","render","converted_matches","remove_tags","divs","html","innerHTML","idGenerator","Math","random","toString","substr","Events","eventHandler","token","Error","eventId","addEventListener","eventListener","removeEventListener","prop","removeHighlights","events","removeAllEvents","highlight","checksAndSetsDispatchToDOM","PDFViewerApp","eventBus","_dispatchToDOM","renderHighlights","data","dispatchToDomIsSet","renderHighlighsOnPageChange","e","pageNumber","detail","addEvent","uniq","arr","fn","res","generateEntities","collection","iconSrc","rawTerms","generateTerms","terms","term","entityData","name","generateDemoMatches","dynamo","organizations","organizationIconDynamo","individuals","individualIconDynamo","schema","quick_books","invoice","invoiceIcon","purchaseOrders","purchaseOrderIconQuickBooks","billsOfLading","individualIconQuickBooks","bulgarian_law","us_law","test","testEntityIcon","table","tabledata","demoMatches","DemoService","service","matchedTerms","Promise","resolve","d","escapedTerms","filter","regs","matched","values","initiateRemoveHighlights","dispatch","PdfService","getPdfService","Connector","props","descriptor","serviceHost","this","QuickBookConnector","getServiceData","allEntityItems","flat","cards","card","color","connectorId","connectorName","load","QuickBooksDescriptor","quickBooks","description","shortDescription","QuickBooksConnector","ServiceHost","BulgarianLawConnector","BulgarianLawDescriptor","lawLogo","DynamoConnector","DynamoDescriptor","dynamoLogo","TableConnector","mockTableCard","tableData","label","TableDescriptor","tableLogo","TableCoonector","timeoutClear","getDescriptors","clearTimeout","descriptors","rej","setTimeout","ensure","argument","message","AddCard","CardFactory","header","actions","cardProps","cardViewProps","pos","path","cardHeader","newContent","compType","BillOfLadingCard","subheader","billOfLadingNumber","title","generateHeader","generateContent","CompanyCard","avatar","setCardProps","factories","billOfLading","contact","firstName","lastName","individual","role","number","organization","purchaseOrder","cardData","getConnectorFromHost","descId","descriptor_list","find","desc","createConnector","fetchAndProcessCards","connector","pdfService","getCards","processedCards","SCDocItem","styled","li","DocsItem","clickHandler","children","onClick","closeDocument","pdf","close","bind","openDocument","source","open","call","SCDocMenu","SCButton","IconButton","SCMenuBody","ul","left","urls","url","withRouter","connect","state","ownProps","appIsOpen","clsApp","openDoc","getState","closePdf","openPdf","documentType","openDocs","OpenNewDocument","opnApp","reset","installed","disblUi","enblUi","history","useState","isOpen","setIsOpen","setLeft","openAppBtnDisabled","setOpenAppBtnDisabled","menuEl","useRef","clsCbk","useCallback","useEffect","innerWidth","useLayoutEffect","clickOutside","ev","current","contains","target","ref","SViewHeader","Navigation","Title","h6","disabled","RightControls","SideMenu","LeftSide","RightSide","ViewHeader","btn","btnClickHandler","menuOpen","changeMenu","size","height","SCards","SCard","AppBox","CardsContainer","CardViewContainer","img","button","css","SCardActions","CardActions","aria-label","SCardContent","CardContent","SAvatar","SCardIcon","Avatar","fontSize","src","SCardHeader","CardHeader","action","to","component","Link","SCInfo","Content","default","Anchor","fontSizes","large","medium","small","icons","address","bankAcc","ceo","email","founded","industry","noe","phone","sector","subIndustry","website","Info","link","Icon","renderIcon","href","Default","Email","CompLoader","phoneNumber","PhoneNumber","Card","in","timeout","elevation","square","variant","light","includes","Component","CardCompact","Actions","AppActions","uiDisabled","cardsList","setCardsList","compact","setCompact","searchValue","setSearchValue","style","marginRight","onChange","placeholder","margin","fullWidth","InputProps","startAdornment","position","htmlColor","params","init","highlights","removeHiLights","setHiLights","services","22","11","77","69","53","highlightData","setHighlights","location","changeCards","idParams","URLSearchParams","search","get","lastLocation","useLastLocation","hashedCards","useMemo","filteredCards","split","cardId","dontRender","locationsRegex","lastLoc","pathname","goingTo","goingToUrlRegex","SCPaper","backcolor","SCTypoWrap","SCDescWrap","bordcolor","SCContentHeader","Logo","ActionsWrapper","c","connectorColor","defaultLogo","SContentBox","ContentBox","SCStore","Item","RouterLink","SubTitle","SVHeader","SVIconWrapper","SVIcon","SVTitle","h2","SVDescription","SVButtonStyles","SVInstallBox","SVLProgress","SCLinearProgressWrapper","SCSuccessWrapper","SCStoreItem","SCStoreLink","StoreItem","icon","defaultIcon","SStoreList","ListTitle","StoreList","connectors","updateConnectorsList","ConnectorDescriptorList","descriptorsToInstall","list","connectorsUpdating","setUpdateConnectors","connectorIcon","connectorShortDescription","con","SVButton","Button","SuccessButton","SVLinearProgress","CircularProgress","conId","installApp","cardsCount","appInstallation","removeApp","RemoveApp","removeCardsById","appIsInstalled","setAppIsInstalled","installing","setInstalling","successInstall","setSuccessInstall","add","goBack","alt","SDefaultView","SCPanel","SAddBtnWrapper","SAllBtn","SButton","PanelIcon","PanelBadge","PanelItemTitle","CPButton","SCPanelItem","PanelItem","count","badgeColor","CPAllButton","totalCards","Overlay","NCard","Notification","closeHandler","domNode","getElementById","body","ReactDOM","createPortal","TableView","align","rowSpan","colSpan","SView","View","SLeftPanel","LeftPanel","exact","DefaultView","CStore","AppView","AllCardsView","StoreView","CardView","SApp","createMemoryHistory","paddingRight","highlightClickHandler","HTMLElement","tagName","dataset","reactAppId","ids","GlobalStyles","initialState","initInstalationState","rootReducer","combineReducers","composeEnhancers","createLogger","composeWithDevTools","trace","traceLimit","store","createStore","applyMiddleware","thunkMiddleware","Boolean","hostname","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.119666e7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/company_logo.c59ceea5.svg\";","module.exports = __webpack_public_path__ + \"static/media/default_icon.21d662f2.svg\";","import { createGlobalStyle } from \"styled-components\"\n\nconst GlobalStyle = createGlobalStyle`\n  * {\n    box-sizing: border-box;\n  }\n\n  /* overrides the pdf.js viewer.css */\n\n  html {\n    font-size: 16px;\n  }\n\n  /* end overriding */\n  body {\n    margin: 0;\n    padding-right: 0;\n\n    font-family: 'Noto Sans', sans-serif;\n\n    @media screen and (max-width: 1024px) {\n      padding-right: 0;\n    }\n  }\n\n  ul {\n    margin: 0;\n    padding: 0;\n    list-style-type: none;\n  }\n\n  a {\n    text-decoration: none;\n  }\n\n  svg {\n    height: 100%;\n    width: 100%;\n  }\n\n  .page {\n    margin: 1px auto 8px auto !important;\n  }\n\n\n  /* Transition definitions */\n\n  .router-appear,\n  .router-enter {\n      opacity: 0;\n      transform: translateX(-30px);\n      z-index: 1;\n  }\n  .router-appear-active,\n  .router-enter.router-enter-active {\n      opacity: 1;\n      transform: translateX(0);\n      transition: opacity 300ms cubic-bezier(0.215, 0.610, 0.355, 1) 150ms, transform 300ms cubic-bezier(0.215, 0.610, 0.355, 1);\n  }\n\n  .router-exit {\n      opacity: 1;\n  }\n\n  .router-exit.router-exit-active {\n      opacity: 0;\n      transition: opacity 150ms linear;\n  }\n\n  .c-item-appear,\n  .c-item-enter {\n    height: 0;\n    overflow: hidden;\n  }\n\n  .c-item-appear-active,\n  .c-item-enter.c-item-enter-active {\n    height: auto;\n    overflow: initial;\n    transition: height 300ms;\n  }\n\n  .c-item-exit {\n    overflow: initial;\n    height: auto;\n  }\n\n  .c-item-exit.c-item-exit-active{\n    overflow: hidden;\n    height: 0;\n    transition: height 300ms;\n  }\n\n\n.bulgarian_law {\n  cursor: pointer;\n  background-color: #aa97cc;\n}\n\n  .multi {\n    cursor: pointer;\n    background-color: rgba(50, 50, 50, 0.8);\n  }\n\n  .dynamo {\n    cursor: pointer;\n    background-color: rgba(196,24,87, 0.9);\n  }\n\n  .dynamo.contact {\n    cursor: pointer;\n    background-color: rgba(196,24,87, 0.9);\n  }\n\n  .dynamo.contact:hover {\n    cursor: pointer;\n    background-color: rgba(0,119,227, 0.9);\n    border: 1px solid rgba(0,66,200, 0.8);\n  }\n\n  .dynamo.organization {\n    cursor: pointer;\n    background-color: rgb(45, 123, 185, 0.8);\n  }\n\n  .quick_books {\n    cursor: pointer;\n    background-color: #2ca01c;\n  }\n\n  .test {\n    cursor: pointer;\n    background-color: rgba(96,24,87, 0.9);\n  }\n\n  .toolbar {\n    display: none;\n  }\n\n  #viewerContainer {\n    top: 0px;\n  }\n`\n\nexport default GlobalStyle\n","const CHARACTERS_TO_NORMALIZE = {\n    '\\u2018': '\\'', // Left single quotation mark\n    '\\u2019': '\\'', // Right single quotation mark\n    '\\u201A': '\\'', // Single low-9 quotation mark\n    '\\u201B': '\\'', // Single high-reversed-9 quotation mark\n    '\\u201C': '\"', // Left double quotation mark\n    '\\u201D': '\"', // Right double quotation mark\n    '\\u201E': '\"', // Double low-9 quotation mark\n    '\\u201F': '\"', // Double high-reversed-9 quotation mark\n    '\\u00BC': '1/4', // Vulgar fraction one quarter\n    '\\u00BD': '1/2', // Vulgar fraction one half\n    '\\u00BE': '3/4', // Vulgar fraction three quarters\n};\n\nlet normalizationRegex = null;\n\nconst normalizeText = (text) => {\n    if (!normalizationRegex) {\n        // Compile the regular expression for text normalization once.\n        const replace = Object.keys(CHARACTERS_TO_NORMALIZE).join('');\n        normalizationRegex = new RegExp(`[${replace}]`, 'g');\n    }\n\n    return text.replace(normalizationRegex, (ch) => {\n        return CHARACTERS_TO_NORMALIZE[ch];\n    });\n}\n\nexport default normalizeText","import normalizeText from \"./normalize_text\"\n\nconst extractText = async () => {\n    const text = []\n    const app = window.PDFViewerApplication\n    const { pagesCount } = app\n\n    for (let i = 1; i <= pagesCount; i++) {\n        const page = await app.pdfDocument.getPage(i)\n        const textContent = await page.getTextContent()\n        text.push(textContent.items.map(i => i.str).join(\"\"))\n    }\n\n    return normalizeText(text.join(\"\"))\n}\n\nexport default extractText","import normalizeText from \"./normalize_text\";\nconst tag_name = \"custom-highlight\";\nlet keyword_separator = \"\";\n\nconst set_keyword_separator = (value) => {\n    keyword_separator = value\n}\n\nconst PDFViewerApplication = window.PDFViewerApplication\n\nlet build_tag_attr = (match_data) => {\n    // this is bound to a specificity and doesn't work on universal custom highlight\n    // rewrite!\n    // write logic that handles attribute data and is passed to the highlights somehow\n    let cls = [];\n    let type = match_data.entityItems.length === 1 ? `${match_data.serviceName} ${match_data.entityItems[0].entityType}` : \"multi\";\n    let attr = {\n        \"data-id\": match_data.entityItems.map(({ id }) => id).join(\",\"),\n        \"data-react-app-id\": match_data.appId,\n        \"data-react-app-type\": match_data.serviceName,\n        \"data-type\": type,\n        \"data-text\": match_data.originalName,\n        \"data-showinfo\": true\n    };\n\n    if (match_data.attr) {\n        attr = Object.assign(attr, match_data.attr);\n    }\n\n    if (match_data.entityItems.length > 1) {\n        attr[\"data-multi-info\"] = true\n    }\n\n    cls.push(type);\n\n    return {\n        cls: cls,\n        attr: attr\n    };\n};\n\n\nconst convertMatches = (matches, page_content) => {\n    var i = 0;\n    var iIndex = 0;\n    var bidiTexts = page_content.items;\n    var end = bidiTexts.length - 1;\n    var ret = [];\n\n    for (var m = 0, len = matches.length; m < len; m++) {\n        // Calculate the start position.\n        var [matchIdx, queryLen, matchedText] = matches[m];\n\n        // Loop over the divIdxs.\n        while (i !== end && matchIdx >= (iIndex + bidiTexts[i].str.length)) {\n            iIndex += bidiTexts[i].str.length;\n            i++;\n        }\n\n        if (i === bidiTexts.length) {\n            console.error('Could not find a matching mapping');\n        }\n\n        var match = {\n            matchedText: matchedText,\n            begin: {\n                divIdx: i,\n                offset: matchIdx - iIndex\n            }\n        };\n\n        // Calculate the end position.\n        matchIdx += queryLen;\n\n        // Somewhat the same array as above, but use > instead of >= to get\n        // the end position right.\n        while (i !== end && matchIdx > (iIndex + bidiTexts[i].str.length)) {\n            iIndex += bidiTexts[i].str.length;\n            i++;\n        }\n\n        match.end = {\n            divIdx: i,\n            offset: matchIdx - iIndex\n        };\n        ret.push(match);\n    }\n\n    return ret;\n};\n\nlet renderMatches = (matches, page_content, text_divs, prometheus_hash) => {\n    // Early exit if there is nothing to render.\n    console.log(matches);\n    if (matches.length === 0) {\n        return;\n    }\n    var bidiTexts = page_content.items;\n    var textDivs = text_divs;\n    var prevEnd = null;\n    var selectedMatchIdx = 0; //0;\n    var highlightAll = true;\n    var infinity = {\n        divIdx: -1,\n        offset: undefined\n    };\n\n    function beginText(begin, className, attr = {}) {\n        var divIdx = begin.divIdx;\n        if (!textDivs[divIdx]) {\n            return;\n        }\n        textDivs[divIdx].textContent = '';\n        appendTextToDiv(divIdx, 0, begin.offset, className, attr);\n    }\n\n    function appendTextToDiv(divIdx, fromOffset, toOffset, className, attr = {}) {\n        var div = textDivs[divIdx];\n        var content = bidiTexts[divIdx].str.substring(fromOffset, toOffset);\n        var node = document.createTextNode(content);\n\n        if (!div)\n            return;\n\n        if (className) {\n            var span = document.createElement(tag_name);\n\n            // eslint-disable-next-line no-unused-vars\n            for (let key in attr) {\n                span.setAttribute(key, attr[key])\n            }\n            span.className = className;\n            span.appendChild(node);\n            div.appendChild(span);\n            return;\n        }\n        div.appendChild(node);\n    }\n\n    var i0 = selectedMatchIdx, i1 = i0 + 1;\n    if (highlightAll) {\n        i0 = 0;\n        i1 = matches.length;\n    }\n\n    let duplicate_index = {};\n\n    for (var i = i0; i < i1; i++) {\n        var match = matches[i];\n        var begin = match.begin;\n        var end = match.end;\n        let matchedText = match.matchedText;\n\n        let key = matchedText.toLowerCase();\n        let index = duplicate_index[key];\n\n        duplicate_index[key] = duplicate_index[key] ? duplicate_index[key] + 1 : 1;\n\n        let match_data = prometheus_hash[key + (index || \"\")] || prometheus_hash[key];\n\n        if (!match_data) {\n            console.log(\"not_found\")\n            continue;\n        }\n\n        let { cls, attr } = build_tag_attr(match_data);\n\n        // Match inside new div.\n        if (!prevEnd || begin.divIdx !== prevEnd.divIdx) {\n            // If there was a previous div, then add the text at the end.\n            if (prevEnd !== null) {\n                appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset, \"\", attr);\n            }\n            // Clear the divs and set the content until the starting point.\n            beginText(begin, \"\", attr);\n        } else {\n            appendTextToDiv(prevEnd.divIdx, prevEnd.offset, begin.offset, \"\", attr);\n        }\n\n        if (begin.divIdx === end.divIdx) {\n            appendTextToDiv(begin.divIdx, begin.offset, end.offset, cls.join(\" \"), attr);\n        } else {\n            appendTextToDiv(begin.divIdx, begin.offset, infinity.offset, cls.join(\" \") + ' begin', attr);\n            for (var n0 = begin.divIdx + 1, n1 = end.divIdx; n0 < n1; n0++) {\n                textDivs[n0].className = cls.join(\" \") + ` middle ${tag_name}`;\n                // eslint-disable-next-line no-loop-func\n                Object.keys(attr).forEach(key => {\n                    textDivs[n0].setAttribute(key, attr[key])\n                })\n            }\n            beginText(end, cls.join(\" \") + ' end', attr);\n        }\n        prevEnd = end;\n    }\n\n    if (prevEnd) {\n        appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n    }\n};\n\nlet get_page_content = async (pdf_document, page_number) => {\n    let page = await pdf_document.getPage(page_number);\n    return await page.getTextContent();\n};\n\nlet get_text_from_page_content = (page_content) => {\n    return page_content.items.map(item => item.str).join(\"\")\n};\n\nlet get_text_divs = (page_index) => {\n    let pageView = window.PDFViewerApplication.pdfViewer.getPageView(page_index);\n    return pageView ? pageView.textLayer.textDivs : null;\n};\n\nlet find_matches = (prometheus_hash, page_text) => {\n    let _build_reg_exp = (prometheus_hash) => {\n        let _collect_prometheus_matches = (prometheus_hash) =>\n            Object.keys(prometheus_hash).map(key => prometheus_hash[key].originalName.toLowerCase());\n\n        let _encode_words = (words) =>\n            // eslint-disable-next-line no-useless-escape\n            (words || []).map((word => word.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\")));\n\n        let _sort_words_by_length = (words) =>\n            (words || []).sort((a, b) => b.length - a.length);\n\n        let words = _collect_prometheus_matches(prometheus_hash);\n        let encoding_words = _encode_words(words);\n        let sorted_words = _sort_words_by_length(encoding_words);\n        let regStr = (keyword_separator ? keyword_separator + \"(\" : \"\") + sorted_words.join(\"|\") + (keyword_separator ? \")\" : \"\");\n        console.log(new RegExp(regStr, \"gim\"));\n        return new RegExp(regStr, \"gim\")\n    };\n\n\n    let reg_exp = _build_reg_exp(prometheus_hash);\n\n    let text = normalizeText(page_text);\n\n    let result = [];\n    let matches;\n    let last_index = -1;\n    do {\n        matches = reg_exp.exec(text);\n        if (matches) {\n            let index = keyword_separator ? matches.index + 1 : matches.index;\n            let text = keyword_separator ? matches[2] : matches[0].trim();\n            let length = text.length;\n            result.push([index, length, text]);\n            if (last_index === matches.index)\n                matches = null;\n            else\n                last_index = matches.index;\n\n        }\n    } while (matches);\n\n    return result\n};\n\n// eslint-disable-next-line no-unused-vars\nlet find_matches_with_find_controller = (prometheus_hash, page_text, page_index) => {\n    let all_matches = [];\n    PDFViewerApplication.findController.pageContents[page_index] = page_text;\n\n    Object.keys(prometheus_hash).forEach(key => {\n        let text_query = prometheus_hash[key].originalName.toLowerCase();\n        PDFViewerApplication.findController.state = PDFViewerApplication.findController.state || {};\n        PDFViewerApplication.findController.state.query = text_query;\n        PDFViewerApplication.findController.calcFindMatch(page_index);\n        let matches = JSON.parse(JSON.stringify(PDFViewerApplication.findController.pageMatches));\n        matches = matches.map(item => [item[0], text_query.length, text_query.trim()]);\n        all_matches = all_matches.concat(matches)\n    });\n\n    return all_matches.sort((a, b) => a[0] - b[0]);\n};\n\nlet build_prometheus_hash = prometheus_result => {\n    let duplicate_index = {};\n    return prometheus_result.reduce((result, item) => {\n        let key = item.originalName.toLowerCase();\n        if (result[key]) {\n            let index = duplicate_index[key] || 1;\n            duplicate_index[key] = index + 1;\n            key += index\n        }\n\n        result[key] = item;\n        return result;\n    }, {})\n};\n\nlet render = async (prometheus_result, page_number, pdf_document) => {\n    let page_index = page_number - 1;\n    let prometheus_hash = build_prometheus_hash(prometheus_result);\n\n    let page_content = await get_page_content(pdf_document, page_number);\n    let page_text = get_text_from_page_content(page_content);\n\n    let matches = find_matches(prometheus_hash, page_text, page_index);\n\n    let converted_matches = convertMatches(matches, page_content);\n\n    let text_divs = get_text_divs(page_index);\n    if (!text_divs) { return }\n\n    renderMatches(converted_matches, page_content, text_divs, prometheus_hash);\n};\n\nlet remove_tags = (page_number) => {\n    page_number = page_number ? page_number : window.PDFViewerApplication ? window.PDFViewerApplication.page : null\n\n    if (!page_number) {\n        return\n    }\n\n    let page_index = page_number - 1;\n    let divs = get_text_divs(page_index);\n    for (let i = 0; i < divs.length; i++) {\n        let html = divs[i].innerHTML;\n        html = html.replace(/<\\\\?custom-highlight([^>]+)?>/g, \"\");\n        divs[i].innerHTML = html;\n    }\n};\n\nexport default {\n    tag_name: tag_name,\n    set_keyword_separator,\n    render,\n    remove_tags\n};","const idGenerator = () => {\n    return Math.random().toString(36).substr(2, 9)\n}\n\nexport default idGenerator\n","import idGenerator from \"../utilities/id_generator\"\n\ninterface IDomSubscribtion {\n    id: number\n    node: HTMLElement\n    eventHandler: any\n    type: string\n}\n\nclass Events {\n    private static map: { [ key: string ]: IDomSubscribtion } = {}\n    private static eventId: number = 0\n\n    public addEvent(node: HTMLElement, type: string, eventHandler: any) {\n        const token = idGenerator()\n        if (!Events.map[ token ]) {\n            Events.map[ token ] = {\n                eventHandler,\n                id: ++Events.eventId,\n                node,\n                type,\n            }\n        } else {\n            throw new Error(\"Event with the same id already exists\")\n        }\n\n\n        node.addEventListener(type, eventHandler)\n        return token\n    }\n\n    public removeEvent(token: string) {\n        const eventListener = Events.map[ token ]\n\n        if (eventListener) {\n            const { node, eventHandler, type } = eventListener\n            node.removeEventListener(type, eventHandler)\n            delete Events.map[ token ]\n        } else {\n            throw new Error(\"Event listener with this id doesn't exist.\")\n        }\n    }\n\n    public removeAllEvents() {\n        for (const prop of Object.keys(Events.map)) {\n            const eventListener = Events.map[ prop ]\n\n            if (eventListener) {\n                const { node, eventHandler, type } = eventListener\n\n                node.removeEventListener(type, eventHandler)\n                delete Events.map[ prop ]\n            }\n\n        }\n    }\n\n}\n\nexport default Events\n","import highlight from \"./highlight\"\nimport Events from \"./events\"\n\nconst removeHighlights = (appId) => {\n    // removes all events attached\n    // removes highlights based on current page and pages that have been already rendered\n\n    // hacky AF\n    const events = new Events()\n    const pagesCount = window.PDFViewerApplication && window.PDFViewerApplication.pagesCount\n    // const currPage = window.PDFViewerApplication && window.PDFViewerApplication.page\n    events.removeAllEvents()\n    for (let page = 1; page <= pagesCount; page++) {\n        let page_index = page - 1\n        let pageView = window.PDFViewerApplication.pdfViewer.getPageView(page_index)\n        if (!pageView.textLayer) {\n            break\n        }\n        highlight.remove_tags(page)\n    }\n\n}\n\nexport default removeHighlights","const checksAndSetsDispatchToDOM = () => {\n    const PDFViewerApp = window.PDFViewerApplication\n\n    if (PDFViewerApp && PDFViewerApp.eventBus) {\n        if (PDFViewerApp.eventBus._dispatchToDOM) {\n            return true\n        } else {\n            PDFViewerApp.eventBus._dispatchToDOM = true\n            return true\n        }\n    } else {\n        return false\n    }\n}\n\nexport default checksAndSetsDispatchToDOM","import highlight from \"./highlight\"\nimport checksAndSetsDispatchToDOM from \"./checks_dispatch_to_dom\"\nimport Events from \"./events\"\n\n// the data we passing is in the shape that prometheus returns  \nconst renderHighlights = async (data, appId) => {\n    const dispatchToDomIsSet = checksAndSetsDispatchToDOM()\n    const page = window.PDFViewerApplication ? window.PDFViewerApplication.page : 1\n    if (dispatchToDomIsSet) {\n        // attach event handler to events emitted from pdf.js on each page change\n        const events = new Events()\n        const renderHighlighsOnPageChange = (e) => {\n            const { pageNumber } = e.detail\n            highlight.render(data, pageNumber, window.PDFViewerApplication.pdfDocument)\n        }\n        events.addEvent(document, \"pagerendered\", renderHighlighsOnPageChange, appId)\n        events.addEvent(document, \"pagechanging\", renderHighlighsOnPageChange, appId)\n        highlight.render(data, page, window.PDFViewerApplication.pdfDocument)\n\n    } else {\n        // TODO --- eject pdfjs\n        console.error(\"PDFJSViewer instance is not available at the time you try to render the highlights.\")\n    }\n}\n\nexport default renderHighlights","// checks array of string for uniqeness\ntype Ifn<T> = (item: T) => string | number\n\nconst uniq = <T>(arr: T[], fn?: Ifn<T>): T[] => {\n    const result = arr.reduce<{ [ key: string ]: T }>((res: { [ key: string ]: T }, item: T) => {\n        if (fn) {\n            res[ `${fn(item)}` ] = item\n        } else {\n            res[ `${item}` ] = item\n        }\n        return res\n    }, {})\n    return Object.keys(result).map((key) => result[ key ])\n}\n\nexport default uniq\n","import idGenerator from \"../../utilities/id_generator\"\nimport testEntityIcon from \"./../../assets/card_icons/cpu.svg\"\nimport individualIconDynamo from \"./../../assets/card_icons/individual_dynamo.svg\"\nimport individualIconQuickBooks from \"./../../assets/card_icons/individual_quick_books.svg\"\nimport invoiceIcon from \"./../../assets/card_icons/invoice_icon.svg\"\nimport organizationIconDynamo from \"./../../assets/card_icons/organization_dynamo.svg\"\nimport organizationIconQuickBooks from \"./../../assets/card_icons/organization_quick_books.svg.svg\"\nimport purchaseOrderIconQuickBooks from \"./../../assets/card_icons/purchase_order_quick_books.svg\"\nimport personIcon from \"./../../assets/person.svg\"\nimport billsOfLading from \"./json_files/bill_of_lading.json\"\nimport individuals from \"./json_files/individuals.json\"\nimport invoice from \"./json_files/invoice.json\"\nimport organizations from \"./json_files/organizations.json\"\nimport purchaseOrders from \"./json_files/purchase_order.json\"\n\n// time wasted\nexport interface IOrganizationData {\n    name: string\n    vatin?: string\n    type: string\n    address?: string\n    phone?: string\n    website?: string\n    bankAccount?: string\n    noe?: string\n    sector?: string\n    industry?: string\n    subIndustry?: string\n    bod?: string\n    ceo?: string\n    yearFounded?: string\n}\n\nexport interface IIndividualData {\n    name: string\n    organization: string\n    role?: string\n    roleCode?: string\n    department?: string\n    email?: string\n    phone?: string\n    officeAddress?: string\n    industry?: string\n    personalWebsite?: string\n    university?: string\n}\n\nexport interface IInvoiceData {\n    number: number | string\n    issueDate: string\n    dueDate: string\n    recipientName: string\n    supplierName: string\n    supplierVatin: string | number\n    recipientVatin: string | number\n    total: string | number\n}\n\nexport interface IPurchaseOrderData {\n    date: string\n    number: string\n    relatedInvoiceNumber: string\n    departureDate: string\n    products: string\n    issuerName: string\n}\n\nexport interface IBillOfLadingData {\n    billOfLadingNumber: string\n    notifyParty: string\n    preCarriageBy: string\n    placeOfReceipt: string\n    portOfLoading: string\n    oceanVesselVoyage: string\n    portOfDischarge: string\n    placeOfDelivery: string\n    numberAndKindOfPackages: string\n    grossWeight: string\n    bookingNumber: string\n    totalNumberOfContainersAndPackages: string\n    freightCharges: string\n    dateOnBoard: string\n    dateOfIssue: string\n    placeOfIssue: string\n    numberOfOriginals: string\n    carriersAgent: string\n}\n\nexport interface IContactData {\n    firstName: string\n    lastName: string\n    address: string\n    phoneNumber: string\n    description: string\n    email: string\n}\n\nexport interface ITableCell {\n    label: string\n    value: string\n}\n\nexport interface ITableData {\n    tableData: ITableCell[]\n}\n\n// tslint:disable-next-line: max-line-length\nexport type DataTypes = IOrganizationData | IIndividualData | IInvoiceData | IPurchaseOrderData | IBillOfLadingData | IContactData | ITableData\n\nexport interface IEntity {\n    id: number | string\n    name: string\n    entityType: string\n    iconSrc: string\n    terms: string[]\n    entityData: DataTypes\n}\n\ninterface ITerm {\n    type: \"prop\" | \"string\"\n    value: string\n}\n\nconst generateEntities = (collection: any[], type: string, iconSrc: string, rawTerms: ITerm[]): IEntity[] => {\n    const generateTerms = (terms: ITerm[], node: any) => {\n\n        return terms.map((term) => {\n            if (term.type === \"prop\") {\n                return node[ term.value ]\n            }\n\n            if (term.type === \"string\") {\n                return term.value\n            }\n\n            return \"\"\n        })\n    }\n\n    return collection.map((node: any, i: number) => ({\n        entityData: node,\n        entityType: type,\n        iconSrc,\n        id: idGenerator(),\n        name: node.name ? node.name : type,\n        terms: generateTerms(rawTerms, node),\n    }))\n}\n\nconst generateDemoMatches = () => {\n    return {\n        dynamo: {\n            data: [\n                ...generateEntities(organizations, \"organization\", organizationIconDynamo, [\n                    { type: \"prop\", value: \"name\" },\n                ]),\n                ...generateEntities(individuals, \"individual\", individualIconDynamo, [\n                    { type: \"prop\", value: \"name\" },\n                ]),\n            ],\n            schema: {\n\n            },\n        },\n\n        quick_books: {\n            data: [\n                ...generateEntities(invoice, \"invoice\", invoiceIcon, [\n                    { type: \"prop\", value: \"number\" },\n                ]),\n\n                ...generateEntities(organizations, \"organization\", organizationIconDynamo, [\n                    { type: \"prop\", value: \"bankAccount\" },\n                ]),\n\n                ...generateEntities(purchaseOrders, \"purchaseOrder\", purchaseOrderIconQuickBooks, [\n                    { type: \"prop\", value: \"number\" },\n                ]),\n\n                ...generateEntities(billsOfLading, \"billOfLading\", \"\", [\n                    { type: \"prop\", value: \"billOfLadingNumber\" },\n                ]),\n\n                ...generateEntities(individuals, \"individual\", individualIconQuickBooks, [\n                    { type: \"prop\", value: \"roleCode\" },\n                ]),\n            ],\n            schema: {\n\n            },\n        },\n\n        bulgarian_law: {\n            data: [\n                ...generateEntities(invoice, \"invoice\", \"\", [\n                    { type: \"prop\", value: \"number\" },\n                    { type: \"prop\", value: \"supplierName\" },\n                    { type: \"prop\", value: \"dueDate\" },\n                ]),\n            ],\n            schema: {\n\n            },\n        },\n\n        us_law: {\n            data: [\n                ...generateEntities(billsOfLading, \"billOfLading\", \"\", [\n                    { type: \"prop\", value: \"billOfLadingNumber\" },\n                ]),\n            ],\n        },\n\n        test: {\n            data: [\n                ...generateEntities(organizations, \"organization\", testEntityIcon, [\n                    { type: \"string\", value: \"javascript\" },\n                    { type: \"string\", value: \"alone\" },\n                    { type: \"prop\", value: \"name\" },\n                ]),\n                ...generateEntities(individuals, \"individual\", testEntityIcon, [\n                    { type: \"string\", value: \"javascript\" },\n                    { type: \"string\", value: \"alone\" },\n                    { type: \"prop\", value: \"name\" },\n                ]),\n            ],\n        },\n\n        table: {\n            data: [\n                {\n                    name: \"Table\",\n                    tabledata: [],\n                },\n            ],\n        },\n    }\n}\n\nexport default generateDemoMatches\n","import uniq from \"../utilities/unique_values\"\n// import demoMatches from \"./demo_matches.json\"\nimport generateDemoMatches from \"./data/demo_data\"\n\nconst demoMatches = generateDemoMatches()\n\ntype IDemoService<T> = (text: string, serviceName: keyof typeof demoMatches) => Promise<T[]>\n\ninterface ITerm {\n    entityItems: any[]\n    originalName: string\n    serviceName: string\n}\n\ninterface IMatchedTerms {\n    [ key: string ]: ITerm\n}\n\n// typescript throws if you try to access prop with value about\n// which typescript is not sure if it's key of the object\nconst DemoService: IDemoService<ITerm> = (text: string, serviceName: keyof typeof demoMatches) => {\n    // demoMatches is a json with the entity data for each connector\n    // dynamicaly load the data by service name\n\n    interface IService {\n        [ key: string ]: any\n    }\n\n    const service: IService = demoMatches[ serviceName ]\n    const matchedTerms: IMatchedTerms = {}\n\n    if (serviceName === \"table\") {\n        return Promise.resolve([])\n    } else {\n        service.data.forEach((d: any) => {\n            const terms = d.terms\n            const filteredTerms = terms.filter((term: string) => term !== \"\")\n            const escapedTerms = filteredTerms.map((term: string) => term.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\").trim())\n            const regs = new RegExp(`(\\\\s\\|\\^)(${escapedTerms.join(\"\\|\")})(\\?\\!\\[а-я\\])`, \"gi\")\n            const matched = text.match(regs)\n\n            if (matched) {\n                // returns unique matches\n                // the regex returns results with white space front/back hence the tirm\n                const uniqueMatches = uniq(matched.map((e) => e.trim()))\n\n                uniqueMatches.forEach((term: string) => {\n                    const entityData = d\n                    // if there are multiple entities assosiated with the same term\n                    // push the new entity in the entity_items property for the given term\n                    // else create new prop\n                    if (matchedTerms[ term ]) {\n                        matchedTerms[ term ].entityItems.push(entityData)\n                    } else {\n                        matchedTerms[ term ] = {\n                            entityItems: [ entityData ],\n                            originalName: term,\n                            serviceName,\n                        }\n                    }\n                })\n            }\n        })\n\n        return Promise.resolve(Object.values(matchedTerms))\n    }\n\n\n}\n\nexport default DemoService\n","import { Dispatch } from \"redux\"\nimport extractText from \"../pdf.js/extract_text\"\nimport removeHighlights from \"../pdf.js/removeHighlights\"\nimport renderHighlights from \"../pdf.js/renderHighlights\"\nimport DemoService from \"../service/demo_service\"\nimport generateDemoMatches from \"./../service/data/demo_data\"\nimport {\n    DISABLE_UI, ENABLE_UI, REMOVE_HIGHLIGHTS, SET_HIGHLIGHTS,\n} from \"./types\"\n\nconst demoMatches = generateDemoMatches()\n\nconst SetHighlights = () => ({\n    type: SET_HIGHLIGHTS,\n})\n\nconst RemoveHighlights = () => ({\n    type: REMOVE_HIGHLIGHTS,\n})\n\nexport const setHighlights = (connectorId: string, appId: string) => {\n    // fix this, it's awful\n    const services: { [ key: string ]: keyof typeof demoMatches } = {\n        22: \"dynamo\",\n        11: \"bulgarian_law\",\n        77: \"quick_books\",\n        69: \"test\",\n        53: \"table\",\n    }\n\n    return async (dispatch: Dispatch) => {\n        const text = await extractText()\n        const terms = await DemoService(text, services[ connectorId ])\n        const highlightData = terms.map((term) => Object.assign({}, term, { appId }))\n        await renderHighlights(highlightData, appId)\n        dispatch(SetHighlights())\n    }\n}\n\nexport const initiateRemoveHighlights = (appId: string) => (dispatch: Dispatch) => {\n    dispatch(RemoveHighlights())\n    removeHighlights(appId)\n}\n\nexport const disableUi = () => ({\n    type: DISABLE_UI,\n})\n\nexport const enableUi = () => ({\n    type: ENABLE_UI,\n})\n","export const DISABLE_UI = \"DISABLE_UI\"\nexport const ENABLE_UI = \"ENABLE_UI\"\n\nexport const SET_HIGHLIGHTS = \"SET_HIGHLIGHTS\"\nexport const REMOVE_HIGHLIGHTS = \"REMOVE_HIGHLIGHTS\"\n\ninterface ISetHighlights {\n    type: typeof SET_HIGHLIGHTS\n}\n\ninterface IRemoveHighlights {\n    type: typeof REMOVE_HIGHLIGHTS\n}\n\nexport type HighlightActions = ISetHighlights | IRemoveHighlights\n\ninterface IDisableInterface {\n    type: typeof DISABLE_UI\n}\n\ninterface IEnableInterface {\n    type: typeof ENABLE_UI\n}\n\nexport type DisableUi = IDisableInterface | IEnableInterface\n","import extractText from \"../pdf.js/extract_text\"\nimport highlight from \"../pdf.js/highlight\"\nimport renderHighlights from \"../pdf.js/renderHighlights\"\n\nexport interface IPdfService {\n    highlight: (data: any) => void\n    removeHighlights: () => void\n    extractText: () => Promise<string>\n}\n\nexport interface IServiceHost {\n    getPdfService: () => IPdfService\n}\n\n// DI requires injector to resolve the dependeincies\n// will do that in the near future\n// TODO DI in TS\n// example ---> https://nehalist.io/dependency-injection-in-typescript/\n\nclass ServiceHost implements IServiceHost {\n    public getPdfService = () => new PdfService()\n}\n// still not sure\n// tslint:disable-next-line: max-classes-per-file\nclass PdfService implements IPdfService {\n    public highlight = (data: any) => {\n        renderHighlights(data)\n    }\n\n    public removeHighlights = () => highlight.remove_tags()\n    public extractText = () => extractText()\n}\n\nexport default new ServiceHost() as ServiceHost\n","import { IServiceHost } from \"../di_service/service\"\nimport { IConnector, IConnectorProps, IDescriptor } from \"./types\"\n\nclass Connector implements IConnector {\n    public id: string\n    public descriptor: IDescriptor\n    public serviceHost: IServiceHost\n    constructor(props: IConnectorProps) {\n        const { id, descriptor, serviceHost } = props\n        this.id = id\n        this.descriptor = descriptor\n        this.serviceHost = serviceHost\n    }\n}\n\nexport default Connector\n","import DemoService from \"../../service/demo_service\"\nimport uniq from \"../../utilities/unique_values\"\nimport Connector from \"../connector\"\nimport { IHostCard } from \"../types\"\nimport { IQuickBooksConnector, IQuickBooksConnectorProps } from \"./types\"\n\nclass QuickBookConnector extends Connector implements IQuickBooksConnector {\n    constructor(props: IQuickBooksConnectorProps) {\n        const { id, descriptor, serviceHost } = props\n        super({ id, descriptor, serviceHost })\n    }\n\n    public getCards(text: string) {\n        const load = async () => {\n            const data = await this.getServiceData(text)\n            const allEntityItems = data\n                .map((d: any) => d.entityItems)\n                .flat(1)\n            const cards = uniq<IHostCard<any>>(\n                allEntityItems,\n                (item) => item.id,\n            )\n            return cards\n                .map((card) => Object.assign(\n                    {},\n                    card,\n                    {\n                        color: this.descriptor.color,\n                        connectorId: this.descriptor.id,\n                        connectorName: this.descriptor.name,\n                    },\n                ))\n        }\n        return load()\n    }\n\n    public getServiceData(text: string) {\n        const load = async () => {\n            return await DemoService(text, \"quick_books\")\n        }\n        return load()\n    }\n\n}\n\nexport default QuickBookConnector\n","import ServiceHost from \"../../di_service/service\"\nimport { IDescriptor } from \"../types\"\nimport quickBooks from \"./../../assets/logos/quick_books.png\"\nimport QuickBooksConnector from \"./connector\"\nimport { IQuickBooksConnector } from \"./types\"\n\n\nclass QuickBooksDescriptor implements IDescriptor {\n    public name: string = \"QuickBooks\"\n    public id: string = \"77\"\n    public color: string = \"#2ca01c\"\n    public iconSrc: string = quickBooks\n    // tslint:disable-next-line: max-line-length\n    public description: string = \"There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable. If you are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in the middle of text. All the Lorem Ipsum generators on the Internet tend to repeat predefined chunks as necessary, making this the first true generator on the Internet. It uses a dictionary of over 200 Latin words, combined with a handful of model sentence structures, to generate Lorem Ipsum which looks reasonable. The generated Lorem Ipsum is therefore always free from repetition, injected humour, or non-characteristic words etc.\"\n    public shortDescription: string = \"Parse documents with one click\"\n\n    public createConnector(id: string): IQuickBooksConnector {\n        return new QuickBooksConnector({ id, descriptor: this, serviceHost: ServiceHost })\n    }\n}\n\nexport default QuickBooksDescriptor\n","import DemoService from \"../../service/demo_service\"\nimport uniq from \"../../utilities/unique_values\"\nimport Connector from \"../connector\"\nimport { IHostCard } from \"../types\"\nimport { IBulgarianLawConnector, IBulgarianLawConnectorProps } from \"./types\"\n\nclass BulgarianLawConnector extends Connector implements IBulgarianLawConnector {\n    constructor(props: IBulgarianLawConnectorProps) {\n        const { id, descriptor, serviceHost } = props\n        super({ id, descriptor, serviceHost })\n    }\n\n    public getCards(text: string) {\n        const load = async () => {\n            const data = await this.getServiceData(text)\n            const allEntityItems = data\n                .map((d: any) => d.entityItems)\n                .flat(1)\n            const cards = uniq<IHostCard<any>>(\n                allEntityItems,\n                (item) => item.id,\n            )\n            return cards\n                .map((card) => Object.assign(\n                    {},\n                    card,\n                    {\n                        color: this.descriptor.color,\n                        connectorId: this.descriptor.id,\n                        connectorName: this.descriptor.name,\n                    },\n                ))\n        }\n        return load()\n    }\n\n    public getServiceData(text: string) {\n        const load = async () => {\n            return await DemoService(text, \"bulgarian_law\")\n        }\n        return load()\n    }\n\n}\n\nexport default BulgarianLawConnector\n","import ServiceHost from \"../../di_service/service\"\nimport { IDescriptor } from \"../types\"\nimport lawLogo from \"./../../assets/logos/law.svg\"\nimport BulgarianLawConnector from \"./connector\"\nimport { IBulgarianLawConnector } from \"./types\"\n\nclass BulgarianLawDescriptor implements IDescriptor {\n    public name: string = \"Bulgarian Law\"\n    public id: string = \"11\"\n    public color: string = \"crimson\"\n    public iconSrc: string = lawLogo\n    // tslint:disable-next-line: max-line-length\n    public description: string = \"There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable. If you are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in the middle of text. All the Lorem Ipsum generators on the Internet tend to repeat predefined chunks as necessary, making this the first true generator on the Internet. It uses a dictionary of over 200 Latin words, combined with a handful of model sentence structures, to generate Lorem Ipsum which looks reasonable. The generated Lorem Ipsum is therefore always free from repetition, injected humour, or non-characteristic words etc.\"\n    public shortDescription: string = \"Parse documents with one click\"\n\n    public createConnector(id: string): IBulgarianLawConnector {\n        return new BulgarianLawConnector({ id, descriptor: this, serviceHost: ServiceHost })\n    }\n}\n\nexport default BulgarianLawDescriptor\n","import DemoService from \"../../service/demo_service\"\nimport uniq from \"../../utilities/unique_values\"\nimport Connector from \"../connector\"\nimport { IHostCard } from \"../types\"\nimport { IDynamoConnector, IDynamoConnectorProps } from \"./types\"\n\nclass DynamoConnector extends Connector implements IDynamoConnector {\n    constructor(props: IDynamoConnectorProps) {\n        const { id, descriptor, serviceHost } = props\n        super({ id, descriptor, serviceHost })\n    }\n\n    public getCards(text: string) {\n        const load = async () => {\n            const data = await this.getServiceData(text)\n            const allEntityItems = data\n                .map((d) => d.entityItems)\n                .flat(1)\n            const cards = uniq<IHostCard<any>>(\n                allEntityItems,\n                (item) => item.id,\n            )\n            return cards\n                .map((card) => Object.assign(\n                    {},\n                    card,\n                    {\n                        color: this.descriptor.color,\n                        connectorId: this.descriptor.id,\n                        connectorName: this.descriptor.name,\n                    },\n                ))\n        }\n        return load()\n    }\n\n    public getServiceData(text: string) {\n        const load = async () => {\n            return await DemoService(text, \"dynamo\")\n        }\n        return load()\n    }\n}\n\nexport default DynamoConnector\n","import ServiceHost from \"../../di_service/service\"\nimport { IDescriptor } from \"../types\"\nimport dynamoLogo from \"./../../assets/logos/dynamo.png\"\nimport DynamoConnector from \"./connector\"\nimport { IDynamoConnector } from \"./types\"\n\nclass DynamoDescriptor implements IDescriptor {\n    public name: string = \"Dynamo CRM\"\n    public id: string = \"22\"\n    public color: string = \"#2d7bb9\"\n    public iconSrc: string = dynamoLogo\n    // tslint:disable-next-line: max-line-length\n    public description: string = \"There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable. If you are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in the middle of text. All the Lorem Ipsum generators on the Internet tend to repeat predefined chunks as necessary, making this the first true generator on the Internet. It uses a dictionary of over 200 Latin words, combined with a handful of model sentence structures, to generate Lorem Ipsum which looks reasonable. The generated Lorem Ipsum is therefore always free from repetition, injected humour, or non-characteristic words etc.\"\n    public shortDescription: string = \"Parse documents with one click\"\n\n    public createConnector(id: string): IDynamoConnector {\n        return new DynamoConnector({ id, descriptor: this, serviceHost: ServiceHost })\n    }\n}\n\nexport default DynamoDescriptor\n","import { ITableData } from \"../../service/data/demo_data\"\nimport DemoService from \"../../service/demo_service\"\nimport idGenerator from \"../../utilities/id_generator\"\nimport Connector from \"../connector\"\nimport { IHostCard } from \"../types\"\nimport { ITableConnector, ITableConnectorProps } from \"./types\"\n\nclass TableConnector extends Connector implements ITableConnector {\n    constructor(props: ITableConnectorProps) {\n        const { id, descriptor, serviceHost } = props\n        super({ id, descriptor, serviceHost })\n    }\n\n    public getCards(text: string) {\n        const mockTableCard: IHostCard<ITableData> = {\n            color: this.descriptor.color,\n            entityData: {\n                tableData: [\n                    {\n                        label: \"Commitment\",\n                        value: \"$ 886,204,550\",\n                    },\n                ],\n            },\n            entityType: \"table\",\n            iconSrc: \"\",\n            id: idGenerator(),\n            name: \"Morris Venture Capital Institutional Investors LLC\",\n            terms: [],\n        }\n\n        const load = async () => {\n            return [\n                {\n                    ...mockTableCard,\n                    connectorId: this.descriptor.id,\n                    connectorName: this.descriptor.name,\n                },\n            ]\n        }\n        return load()\n    }\n\n    public getServiceData(text: string) {\n        const load = async () => {\n            return await DemoService(text, \"table\")\n        }\n        return load()\n    }\n}\n\nexport default TableConnector\n","import ServiceHost from \"../../di_service/service\"\nimport { IDescriptor } from \"../types\"\nimport tableLogo from \"./../../assets/card_icons/table_icon.svg\"\nimport TableCoonector from \"./connector\"\nimport { ITableConnector } from \"./types\"\n\nclass TableDescriptor implements IDescriptor {\n    public name: string = \"Fund Report\"\n    public id: string = \"53\"\n    public color: string = \"#2d4275\"\n    public iconSrc: string = tableLogo\n    // tslint:disable-next-line: max-line-length\n    public description: string = \"There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable. If you are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in the middle of text. All the Lorem Ipsum generators on the Internet tend to repeat predefined chunks as necessary, making this the first true generator on the Internet. It uses a dictionary of over 200 Latin words, combined with a handful of model sentence structures, to generate Lorem Ipsum which looks reasonable. The generated Lorem Ipsum is therefore always free from repetition, injected humour, or non-characteristic words etc.\"\n    public shortDescription: string = \"Parse documents with one click\"\n\n    public createConnector(id: string): ITableConnector {\n        return new TableCoonector({ id, descriptor: this, serviceHost: ServiceHost })\n    }\n}\n\nexport default TableDescriptor\n","import QuickBooksDescriptor from \"./ quick_books/descriptor\"\nimport BulgarianLawDescriptor from \"./bulgarian_law/descriptor\"\nimport DynamoDescriptor from \"./dynamo/descriptor\"\nimport TableDescriptor from \"./table_connector/descriptor\"\nimport TestDescriptor from \"./test_app/descriptor\"\nimport { IDescriptor } from \"./types\"\n\nclass ConnectorDescriptorList {\n    public timeoutClear: number | null\n    constructor() {\n        this.timeoutClear = null\n    }\n    public getDescriptors = (): Promise<IDescriptor[]> => {\n        if (this.timeoutClear) {\n            clearTimeout(this.timeoutClear)\n        }\n\n        const descriptors = [\n            new DynamoDescriptor(),\n            // new SecDescriptor(),\n            // new CrunchDescriptor(),\n            // new USPatentsDescriptor(),\n            // new USLawDescriptor(),\n            // new USRegulationsDescriptor(),\n            // new ZochoDescriptor(),\n            new QuickBooksDescriptor(),\n            new BulgarianLawDescriptor(),\n            new TableDescriptor(),\n            // new TestDescriptor(),\n        ]\n\n        return new Promise((res, rej) => {\n            // simulating async behaviour\n            this.timeoutClear = setTimeout(() => {\n                res(descriptors)\n            }, 200)\n        })\n    }\n}\n\n\nexport default new ConnectorDescriptorList()\n","// f beautiful\n// copied from here --> https://stackoverflow.com/questions/54738221/typescript-array-find-possibly-undefind\n\nconst ensure = <T>(\n    argument: T | undefined | null,\n    message: string = \"The value which was expected to exist doesn't\",\n): T => {\n    if (argument === undefined || argument === null) {\n        throw new Error(message)\n    }\n\n    return argument\n}\n\nexport default ensure\n","import {\n    ADD_CARD, ADD_CARDS,\n    ICard, ICardActions,\n    REMOVE_ALL_CARDS,\n    REMOVE_CARD,\n    REMOVE_CARDS_BY_APP_ID,\n} from \"./types\"\nimport { DataTypes } from \"../../../../service/data/demo_data\"\n\nexport const AddCard = (card: ICard<any>): ICardActions => ({\n    card,\n    type: ADD_CARD,\n})\n\nexport const RemoveCard = (cardId: string, appId: string) => ({\n    appId,\n    cardId,\n    type: REMOVE_CARD,\n})\n\nexport const RemoveCardsByAppId = (appId: string) => ({\n    appId,\n    type: REMOVE_CARDS_BY_APP_ID,\n})\n\n\nexport const AddCards = (cards: Array<ICard<DataTypes>>) => ({\n    cards,\n    type: ADD_CARDS,\n})\n\nexport const RemoveAllCards = () => ({\n    type: REMOVE_ALL_CARDS,\n})\n","import { DataTypes } from \"../../../../service/data/demo_data\"\n\nexport interface IUser {\n    name: string\n}\n\nexport interface ICardAvatar {\n    iconSrc?: string\n    color?: string\n    type?: string,\n}\n\nexport interface ICardHeader {\n    title: string\n    path?: string\n    subheader?: string\n    avatar?: ICardAvatar\n    color?: string\n}\n\nexport interface ICardContentItem<T> {\n    type: keyof T\n    compType: string\n    value: T[ keyof T ]\n}\n\nexport interface ICard<T> {\n    id: string\n    appId: string\n    path?: string\n    header?: ICardHeader\n    content?: Array<ICardContentItem<T>>\n    color?: string\n    cardProps: Array<keyof T>\n    cardViewProps: Array<keyof T>\n    // leaving this boolean\n    // TODO define the cardActions interface\n    actions?: boolean\n}\n\nexport const ADD_CARD = \"ADD_CARD\"\nexport const REMOVE_CARD = \"REMOVE_CARD\"\nexport const ADD_CARDS = \"ADD_CARDS\"\nexport const REMOVE_CARDS_BY_APP_ID = \"REMOVE_CARDS_BY_APP_ID\"\nexport const REMOVE_ALL_CARDS = \"REMOVE_ALL_CARDS\"\n\nexport type ICardState = Array<ICard<DataTypes>>\n\ninterface IAddCard {\n    type: typeof ADD_CARD\n    card: ICard<DataTypes>\n}\n\ninterface IRemoveCard {\n    type: typeof REMOVE_CARD\n    cardId: string\n    appId: string\n}\n\ninterface IAddCards {\n    type: typeof ADD_CARDS\n    cards: Array<ICard<DataTypes>>\n}\n\ninterface IRemoveCardsByAppId {\n    type: typeof REMOVE_CARDS_BY_APP_ID\n    appId: string\n}\n\ninterface IRemoveAllCards {\n    type: typeof REMOVE_ALL_CARDS\n}\n\nexport type ICardActions = IAddCard | IRemoveCard | IAddCards | IRemoveCardsByAppId | IRemoveAllCards\n","import { IHostCard } from \"../../../host/types\"\nimport { ICard, ICardContentItem, ICardHeader } from \"../../app/card/redux/types\"\n\nexport interface IContentItem<T> {\n    type: keyof T\n    compType: string\n    pos: number\n}\n\nclass CardFactory<T> implements ICard<T> {\n    public card: IHostCard<T>\n    public id: string\n    public appId: string\n    public header?: ICardHeader\n    public content?: Array<ICardContentItem<T>>\n    public color: string\n    public actions: boolean\n    public cardProps: Array<keyof T> = []\n    public cardViewProps: Array<keyof T> = []\n    public pos = 0\n    public path?: string\n\n    constructor(card: IHostCard<T>, appId: string) {\n        this.card = card\n        this.id = card.id\n        this.appId = appId\n        this.content = []\n        this.color = card.color\n        this.actions = true\n    }\n\n    public generateHeader(cardHeader: ICardHeader) {\n        this.header = cardHeader\n    }\n\n    public generateContent(content: Array<IContentItem<T>>) {\n        content.sort((a, b) => a.pos - b.pos)\n        const newContent = content.map((item) => ({\n            compType: item.compType,\n            type: item.type,\n            value: this.card.entityData[ item.type ],\n        }))\n\n        this.content = newContent.filter((item) => this.card.entityData[ item.type ])\n    }\n\n    public setPath(path: string) {\n        this.path = path\n    }\n\n    public setCardProps(props: Array<keyof T>) {\n        this.cardProps = props\n    }\n}\n\nexport default CardFactory\n","import { IHostCard } from \"../../../host/types\"\nimport { IBillOfLadingData } from \"../../../service/data/demo_data\"\nimport { ICardHeader } from \"../../app/card/redux/types\"\nimport CardFactory, { IContentItem } from \"./CardFactory\"\n\nclass BillOfLadingCard extends CardFactory<IBillOfLadingData> {\n    constructor(\n        card: IHostCard<IBillOfLadingData>,\n        appId: string,\n    ) {\n        super(card, appId)\n\n        const header: ICardHeader = {\n            color: card.color,\n            subheader: card.entityData.billOfLadingNumber,\n            title: \"Bill of lading\",\n        }\n\n        const content: Array<IContentItem<IBillOfLadingData>> = [\n            {\n                compType: \"default\",\n                pos: 1,\n                type: \"placeOfDelivery\",\n            },\n            {\n                compType: \"default\",\n                pos: 2,\n                type: \"portOfLoading\",\n            },\n        ]\n\n        this.generateHeader(header)\n        this.generateContent(content)\n    }\n}\n\nexport default BillOfLadingCard\n","import { IHostCard } from \"../../../host/types\"\nimport { IOrganizationData } from \"../../../service/data/demo_data\"\nimport { ICardHeader } from \"../../app/card/redux/types\"\nimport CardFactory, { IContentItem } from \"./CardFactory\"\n\nclass CompanyCard extends CardFactory<IOrganizationData> {\n\n    constructor(card: IHostCard<IOrganizationData>, appId: string) {\n        super(card, appId)\n\n        const header: ICardHeader = {\n            avatar: {\n                iconSrc: card.iconSrc,\n            },\n            color: card.color,\n            path: \"\",\n            subheader: card.entityData.type,\n            title: card.entityData.name,\n        }\n\n        const content: Array<IContentItem<IOrganizationData>> = [\n            {\n                compType: \"website\",\n                pos: 1,\n                type: \"website\",\n            },\n            {\n                compType: \"founded\",\n                pos: 2,\n                type: \"yearFounded\",\n            },\n            {\n                compType: \"ceo\",\n                pos: 3,\n                type: \"ceo\",\n            },\n            {\n                compType: \"noe\",\n                pos: 4,\n                type: \"noe\",\n            },\n            {\n                compType: \"default\",\n                pos: 5,\n                type: \"sector\",\n            },\n            {\n                compType: \"default\",\n                pos: 6,\n                type: \"industry\",\n            },\n            {\n                compType: \"default\",\n                pos: 7,\n                type: \"subIndustry\",\n            },\n            {\n                compType: \"default\",\n                pos: 8,\n                type: \"phone\",\n            },\n            {\n                compType: \"default\",\n                pos: 9,\n                type: \"phone\",\n            },\n            {\n                compType: \"default\",\n                pos: 10,\n                type: \"address\",\n            },\n        ]\n\n        this.generateHeader(header)\n        this.generateContent(content)\n        this.setCardProps([ \"website\", \"yearFounded\", \"ceo\" ])\n    }\n}\n\nexport default CompanyCard\n","import BillOfLadingCard from \"./card_factories/BillOfLadingCard\"\nimport CompanyCard from \"./card_factories/CompanyCard\"\nimport ContactCard from \"./card_factories/ContactCard\"\nimport IndividualCard from \"./card_factories/IndividualCard\"\nimport InvoiceCard from \"./card_factories/InvoiceCard\"\nimport PurchaseOrderCard from \"./card_factories/PurchaseOrderCard\"\nimport TableCard from \"./card_factories/TableCard\"\n\nexport type CardFactories =\n    typeof ContactCard |\n    typeof CompanyCard |\n    typeof IndividualCard |\n    typeof BillOfLadingCard |\n    typeof InvoiceCard |\n    typeof PurchaseOrderCard |\n    typeof TableCard\n\nexport type CardTypes = BillOfLadingCard | CompanyCard | ContactCard | IndividualCard | InvoiceCard | PurchaseOrderCard | TableCard\n\ninterface IFactories {\n    [ key: string ]: CardFactories\n}\n\nconst factories: IFactories = {\n    billOfLading: BillOfLadingCard,\n    contact: ContactCard,\n    individual: IndividualCard,\n    invoice: InvoiceCard,\n    organization: CompanyCard,\n    purchaseOrder: PurchaseOrderCard,\n    table: TableCard,\n}\n\nexport default factories\n","import { IContactEntity, IHostCard } from \"../../../host/types\"\nimport { ICardHeader } from \"../../app/card/redux/types\"\nimport CardFactory, { IContentItem } from \"./CardFactory\"\n\nclass ContactCard extends CardFactory<IContactEntity> {\n    constructor(\n        card: IHostCard<IContactEntity>,\n        appId: string,\n    ) {\n        super(card, appId)\n        const header: ICardHeader = {\n            color: card.color,\n            subheader: card.entityData.description,\n            title: `${card.entityData.firstName} ${card.entityData.lastName}`,\n        }\n\n        const content: Array<IContentItem<IContactEntity>> = [\n            {\n                compType: \"phone\",\n                pos: 1,\n                type: \"phoneNumber\",\n            },\n            {\n                compType: \"address\",\n                pos: 2,\n                type: \"address\",\n            },\n        ]\n\n        this.setCardProps([ \"phoneNumber\", \"address\" ])\n        this.generateHeader(header)\n        this.generateContent(content)\n    }\n}\n\nexport default ContactCard\n","import { IHostCard } from \"../../../host/types\"\nimport { IIndividualData } from \"../../../service/data/demo_data\"\nimport { ICardHeader } from \"../../app/card/redux/types\"\nimport CardFactory, { IContentItem } from \"./CardFactory\"\n\nclass IndividualCard extends CardFactory<IIndividualData> {\n\n    constructor(card: IHostCard<IIndividualData>, appId: string) {\n        super(card, appId)\n\n        const header: ICardHeader = {\n            avatar: {\n                iconSrc: card.iconSrc,\n            },\n            color: this.color,\n            path: \"\",\n            subheader: card.entityData.role,\n            title: card.entityData.name,\n        }\n\n        const content: Array<IContentItem<IIndividualData>> = [\n            {\n                compType: \"industry\",\n                pos: 1,\n                type: \"industry\",\n            },\n            {\n                compType: \"website\",\n                pos: 2,\n                type: \"personalWebsite\",\n            },\n            {\n                compType: \"default\",\n                pos: 3,\n                type: \"organization\",\n            },\n            {\n                compType: \"default\",\n                pos: 4,\n                type: \"role\",\n            },\n            {\n                compType: \"default\",\n                pos: 5,\n                type: \"department\",\n            },\n            {\n                compType: \"default\",\n                pos: 6,\n                type: \"email\",\n            },\n            {\n                compType: \"phone\",\n                pos: 7,\n                type: \"phone\",\n            },\n            {\n                compType: \"address\",\n                pos: 8,\n                type: \"officeAddress\",\n            },\n        ]\n\n        this.setCardProps([ \"industry\", \"personalWebsite\", \"university\", \"organization\" ])\n        this.generateHeader(header)\n        this.generateContent(content)\n    }\n}\n\nexport default IndividualCard\n","import { IHostCard } from \"../../../host/types\"\nimport { IInvoiceData } from \"../../../service/data/demo_data\"\nimport { ICardContentItem, ICardHeader } from \"../../app/card/redux/types\"\nimport CardFactory, { IContentItem } from \"./CardFactory\"\n\nclass InvoiceCard extends CardFactory<IInvoiceData> {\n    constructor(card: IHostCard<IInvoiceData>, appId: string) {\n        super(card, appId)\n        const header: ICardHeader = {\n            color: card.color,\n            subheader: card.entityData.number.toString(),\n            title: \"Invoice\",\n            avatar: {\n                iconSrc: card.iconSrc,\n            },\n        }\n\n        this.setCardProps([ \"number\", \"supplierName\", \"total\" ])\n\n        const content: Array<IContentItem<IInvoiceData>> = [\n            {\n                compType: \"default\",\n                pos: 1,\n                type: \"recipientName\",\n            },\n            {\n                compType: \"default\",\n                pos: 2,\n                type: \"supplierName\",\n            },\n            {\n                compType: \"default\",\n                pos: 3,\n                type: \"dueDate\",\n            },\n        ]\n\n        this.generateHeader(header)\n        this.generateContent(content)\n    }\n}\n\nexport default InvoiceCard\n","import { IHostCard } from \"../../../host/types\"\nimport { IPurchaseOrderData } from \"../../../service/data/demo_data\"\nimport { ICardHeader } from \"../../app/card/redux/types\"\nimport CardFactory, { IContentItem } from \"./CardFactory\"\n\nclass PurchaseOrderCard extends CardFactory<IPurchaseOrderData> {\n    constructor(\n        card: IHostCard<IPurchaseOrderData>,\n        appId: string,\n    ) {\n        super(card, appId)\n\n        const cardData = card.entityData\n        const header: ICardHeader = {\n            avatar: {\n                iconSrc: card.iconSrc,\n            },\n            color: card.color,\n            subheader: cardData.number,\n            title: \"Purchase order\",\n        }\n\n        const content: Array<IContentItem<IPurchaseOrderData>> = [\n            {\n                compType: \"default\",\n                pos: 1,\n                type: \"issuerName\",\n            },\n        ]\n\n        this.generateHeader(header)\n        this.generateContent(content)\n\n    }\n}\n\nexport default PurchaseOrderCard\n","import { IHostCard } from \"../../../host/types\"\nimport { ITableData } from \"../../../service/data/demo_data\"\nimport { ICardHeader } from \"../../app/card/redux/types\"\nimport CardFactory, { IContentItem } from \"./CardFactory\"\n\nclass TableCard extends CardFactory<ITableData> {\n\n    constructor(card: IHostCard<ITableData>, appId: string) {\n        super(card, appId)\n\n        const header: ICardHeader = {\n            avatar: {\n                iconSrc: card.iconSrc,\n            },\n            color: card.color,\n            path: \"\",\n            title: card.name,\n        }\n\n        const content: Array<IContentItem<ITableData>> = card.entityData.tableData.map((item, i) => ({\n            compType: \"row\",\n            pos: i,\n            type: \"tableData\",\n        }))\n\n        this.path = `/table/${appId}/${card.id}`\n        this.actions = false\n        this.generateHeader(header)\n        this.generateContent(content)\n        this.setCardProps([])\n    }\n}\n\nexport default TableCard\n","import { Dispatch, AnyAction } from \"redux\"\nimport ServiceHost from \"../../../di_service/service\"\nimport descriptor_list from \"../../../host/descriptor_list\"\nimport { ConnectorTypes, IDescriptor } from \"../../../host/types\"\nimport ensure from \"../../../utilities/ensure\"\nimport idGenerator from \"../../../utilities/id_generator\"\nimport { AddCard, RemoveAllCards } from \"../../app/card/redux/actions\"\nimport factories from \"../factories\"\nimport {\n    IApp,\n    IAppInstallationActions,\n    INSTALL_APP,\n    REMOVE_ALL_APPS,\n    REMOVE_APP,\n} from \"./types\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport renderHighlights from \"../../../pdf.js/renderHighlights\"\n\nexport const InstallApp = (app: IApp): IAppInstallationActions => ({\n    app,\n    type: INSTALL_APP,\n})\n\nexport const RemoveApp = (id: string): IAppInstallationActions => ({\n    id,\n    type: REMOVE_APP,\n})\n\nexport const RemoveAllApps = (): IAppInstallationActions => ({\n    type: REMOVE_ALL_APPS,\n})\n\n// we have to have the connector type\n// create instance of it\n// store the instance somewhere? (no need if we have the highlighting handled inside the UI app)\n// drop the highlighting for now\n// fetch the cards\n\nexport const getConnectorFromHost = async (descId: string): Promise<ConnectorTypes> => {\n    const descriptors = await descriptor_list.getDescriptors()\n    const descriptor = ensure<IDescriptor>(descriptors.find((desc) => desc.id === descId))\n\n    return descriptor.createConnector(idGenerator())\n}\n\nexport const fetchAndProcessCards = async (connector: ConnectorTypes, appId: string) => {\n    const pdfService = ServiceHost.getPdfService()\n    const text = await pdfService.extractText()\n    const cards = await connector.getCards(text)\n    const processedCards = cards.map((card) => {\n        return new factories[ card.entityType ](card, appId)\n    })\n    return processedCards\n}\n\nexport const appInstallation = (descId: string) => {\n    return async (dispatch: Dispatch) => {\n        const appId = idGenerator()\n        const connector = await getConnectorFromHost(descId)\n        const cards = await fetchAndProcessCards(connector, appId)\n\n        dispatch(InstallApp({\n            cardsCount: cards.length,\n            connectorColor: connector.descriptor.color,\n            connectorIcon: connector.descriptor.iconSrc,\n            connectorId: connector.descriptor.id,\n            connectorName: connector.descriptor.name,\n            connectorShortDescription: connector.descriptor.shortDescription,\n            id: appId,\n        }))\n\n        cards.forEach((card) => {\n            dispatch(AddCard(card))\n        })\n    }\n}\n\nexport const resetAll = () => {\n    return async (dispatch: Dispatch, getState: any) => {\n        dispatch(RemoveAllCards())\n        const { installed } = getState()\n\n        for (const app of installed) {\n            const connector = await getConnectorFromHost(app.connectorId)\n            const cards = await fetchAndProcessCards(connector, app.id)\n            cards.forEach((card) => {\n                dispatch(AddCard(card))\n            })\n        }\n        \n    }\n}\n","import React from \"react\"\nimport styled from \"styled-components\"\n\ninterface IOwnProps {\n    clickHandler: () => void\n\n}\n\ntype Props = IOwnProps\n\nconst SCDocItem = styled.li`\n    cursor: pointer;\n    padding: 12px;\n\n    &:hover {\n        background-color: #ccc;\n    }\n\n`\n\nconst DocsItem: React.FC<Props> = (props) => {\n    const { clickHandler, children } = props\n\n    return (\n        <SCDocItem onClick={ clickHandler }>\n            { children }\n        </SCDocItem>\n    )\n}\n\nexport default DocsItem\n","const closeDocument = () => {\n    const pdf = window.PDFViewerApplication\n    if (pdf) {\n        const close = pdf.close\n        return close.bind(pdf)\n    }\n}\n\nexport default closeDocument","const openDocument = (source) => {\n    const pdf = window.PDFViewerApplication\n    if (pdf) {\n        const open = pdf.open\n        return open.call(pdf, source)\n    }\n}\n\nexport default openDocument","import { IconButton } from \"@material-ui/core\"\nimport styled from \"styled-components\"\n\nexport const SCDocMenu = styled.div`\n    background-color: #fff;\n\n    position: fixed;\n    bottom: 10px;\n    left: 10px;\n\n    box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\n\n    z-index: 999999;\n`\n\nexport const SCButton = styled(IconButton)`\n    z-index: 9999;\n`\n\nexport const SCMenuBody = styled.ul<{ left: number }>`\n    background-color: #fff;\n    box-sizing: content-box;\n\n    position: absolute;\n    bottom: 62px;\n    left: ${(props) => props.left}px;\n\n    width: 200px;\n    max-height: 800px;\n\n    transition: left 100ms cubic-bezier(0.755, 0.05, 0.855, 0.06);\n\n    overflow: hidden;\n    word-break: break-word;\n`\n","import { ArrowBack, ArrowForward, Close, Folder } from \"@material-ui/icons\"\nimport React, { useCallback, useEffect, useLayoutEffect, useRef, useState } from \"react\"\nimport { MapDispatchToProps } from \"react-redux\"\nimport { connect } from \"react-redux\"\nimport { RouteComponentProps, withRouter } from \"react-router\"\nimport { AnyAction } from \"redux\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport { disableUi, enableUi } from \"../../redux/actions\"\nimport { AppState } from \"../../redux/root\"\nimport { resetAll } from \"../app_store/redux/actions\"\nimport DocsItem from \"./DocItem\"\nimport { CloseApp, OpenApp, OpenNewDocument } from \"./redux/actions\"\nimport { SCButton, SCDocMenu, SCMenuBody } from \"./styles\"\n\ninterface IOwnProps extends RouteComponentProps { }\n\ninterface IStateProps {\n    appIsOpen: boolean\n}\n\ninterface IDispatchProps {\n    openDoc: (type: string, source: string) => void\n    opnApp: () => void\n    clsApp: () => void\n    reset: () => void\n    disblUi: () => void\n    enblUi: () => void\n}\n\ntype Props = IOwnProps & IStateProps & IDispatchProps\n\nconst mapStateToProps = (state: AppState, ownProps: IOwnProps): IStateProps => ({\n    appIsOpen: state.appIsOpen,\n})\n\n\nconst mapDispatchToProps: MapDispatchToProps<IDispatchProps, {}> = (\n    dispatch: ThunkDispatch<{}, {}, AnyAction>,\n) => ({\n    clsApp: () => dispatch(CloseApp()),\n    openDoc: (type: string, source: string) => dispatch(OpenNewDocument(type, source)),\n    opnApp: () => dispatch(OpenApp()),\n    reset: () => dispatch(resetAll()),\n    disblUi: () => dispatch(disableUi()),\n    enblUi: () => dispatch(enableUi()),\n})\n\nconst urls = [\n    {\n        name: \"Moris Venture\",\n        url: \"/pdfs/moris_venture.pdf\",\n    },\n    {\n        name: \"FULL_DOC_USE_CASES_HIGHLIGHTED\",\n        url: \"/pdfs/FULL_DOC_USE_CASES_HIGHLIGHTED.pdf\",\n    },\n    {\n        name: \"Resignation_process_Role_code_Contract_number.pdf\",\n        url: \"/pdfs/Resignation_process_Role_code_Contract_number.pdf\",\n    },\n    {\n        name: \"Refund_inquiry_Purchase_order_Invoice.pdf\",\n        url: \"/pdfs/Refund_inquiry_Purchase_order_Invoice.pdf\",\n    },\n    {\n        name: \"Purchase_order_Invoice_Administration.pdf\",\n        url: \"/pdfs/Purchase_order_Invoice_Administration.pdf\",\n    },\n    {\n        name: \"Invoice_Bill_of_lading_Finance_Administration\",\n        url: \"/pdfs/Invoice_Bill_of_lading_Finance_Administration.pdf\",\n    },\n    {\n        name: \"Contact_recommendation_Person_Company.pdf\",\n        url: \"/pdfs/Contact_recommendation_Person_Company.pdf\",\n    },\n]\n\nconst DocsMenu: React.FC<Props> = (props) => {\n    const { openDoc, history, appIsOpen, opnApp, clsApp, reset, disblUi, enblUi } = props\n    const offsetLeft = -211\n    const [ isOpen, setIsOpen ] = useState(false)\n    const [ left, setLeft ] = useState(offsetLeft)\n    const [ openAppBtnDisabled, setOpenAppBtnDisabled ] = useState(false)\n    const menuEl = useRef(document.createElement(\"div\"))\n\n    const open = () => {\n        setIsOpen(true)\n        setLeft(0)\n    }\n\n    const clsCbk = useCallback(() => {\n        setIsOpen(false)\n        setLeft(offsetLeft)\n    }, [ offsetLeft ])\n\n    const close = () => {\n        setIsOpen(false)\n        setLeft(offsetLeft)\n    }\n\n    const openMenu = () => {\n        !isOpen ? open() : close()\n    }\n\n    const openAppHandler = () => {\n        appIsOpen ? clsApp() : opnApp()\n    }\n\n    useEffect(() => {\n        const { innerWidth } = window\n        if (innerWidth > 1024) {\n            setOpenAppBtnDisabled(true)\n            opnApp()\n        }\n    }, [ setOpenAppBtnDisabled, opnApp ])\n\n    useLayoutEffect(() => {\n        const clickOutside = (ev: MouseEvent) => {\n            if (menuEl.current && !menuEl.current.contains(ev.target as Node)) {\n                clsCbk()\n            }\n        }\n\n        document.addEventListener(\"mousedown\", clickOutside)\n\n        return () => {\n            document.removeEventListener(\"mousedown\", clickOutside)\n        }\n    }, [ clsCbk ])\n\n    return (\n        <SCDocMenu ref={ menuEl }>\n            <SCButton onClick={ openMenu }>\n                { !isOpen ? <Folder /> : <Close /> }\n            </SCButton>\n\n            { !openAppBtnDisabled && <SCButton onClick={ openAppHandler }>\n                { !appIsOpen ? <ArrowBack /> : <ArrowForward /> }\n            </SCButton>\n            }\n\n            <SCMenuBody left={ left }>\n                { urls.map((url: any, i: number) =>\n                    <DocsItem clickHandler={ () => {\n                        const load = async () => {\n                            disblUi()\n                            await openDoc(\"pdf\", url.url)\n                            await reset()\n                            enblUi()\n                            close()\n                            // history.push(\"/\")\n                        }\n                        load()\n                    } } key={ i }>{ url.name }</DocsItem>) }\n            </SCMenuBody>\n\n        </SCDocMenu>\n\n    )\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(DocsMenu))\n","import { Dispatch } from \"redux\"\nimport closePdf from \"../../../pdf.js/closeDocument\"\nimport openPdf from \"../../../pdf.js/openDocument\"\nimport { CLOSE_APP, OPEN_APP, SET_DOCUMENT_TYPE } from \"./types\"\n\nexport const SetDocumentType = (documentType: string) => ({\n    documentType,\n    type: SET_DOCUMENT_TYPE,\n})\n\nexport const OpenApp = () => ({\n    type: OPEN_APP,\n})\n\nexport const CloseApp = () => ({\n    type: CLOSE_APP,\n})\n\nexport const OpenNewDocument = (type: string, source: string) =>\n    (dispatch: Dispatch, getState: any) => {\n        // open the new doc async\n        const openDocs = async () => {\n            if (type === \"pdf\") {\n                await closePdf()\n                await openPdf(source)\n            }\n\n            dispatch(SetDocumentType(type))\n        }\n\n        return openDocs()\n\n        // reset the app state\n    }\n","export const SET_DOCUMENT_TYPE = \"SET_DOCUMENT_TYPE\"\nexport const OPEN_NEW_DOCUMENT = \"OPEN_NEW_DOCUMENT\"\nexport const OPEN_APP = \"OPEN_APP\"\nexport const CLOSE_APP = \"CLOSE_APP\"\n\n\ninterface ISetDocumentType {\n    type: typeof SET_DOCUMENT_TYPE\n    documentType: string\n}\n\nexport type DocumentActions = ISetDocumentType\n\ninterface IOpenApp {\n    type: typeof OPEN_APP\n}\n\ninterface ICloseApp {\n    type: typeof CLOSE_APP\n}\n\nexport type OpenCloseApp = IOpenApp | ICloseApp\n\nexport type IOpenNewDocument = (type: string, source: string) => void\n\nexport interface IDocumentState {\n    type: string\n}\n","import { IconButton } from \"@material-ui/core\"\nimport { ArrowBack, Close, Menu } from \"@material-ui/icons\"\nimport React, { useState } from \"react\"\nimport styled from \"styled-components\"\n\nexport interface IViewHeader {\n    title: string\n    btn?: string | boolean\n    btnClickHandler?: any\n    disabled?: boolean\n}\n\nconst SViewHeader = styled.div`\n    border-bottom: 1px solid #c1c1c1;\n\n    text-transform: capitalize;\n    font-size: 24px;\n    font-weight: normal;\n\n    display: flex;\n    align-items: stretch;\n    justify-content: space-between;\n\n    padding: 0 16px;\n\n    height: 70px;\n`\n\n// header organization (left to right):\n// 1. navigation buttons\n// 2. title\n// 3. context specific controls\n//\n\nconst Navigation = styled.div`\n    margin-right: 24px;\n\n`\nconst Title = styled.h6<{ disabled: boolean }>`\n    margin: 0;\n\n    font-size: 24px;\n    color: ${props => props.disabled ? \"#c1c1c1\" : \"#444\"};\n`\n\nconst RightControls = styled.div``\n\nconst SideMenu = styled.div``\n\nconst LeftSide = styled.div`\n    display: flex;\n    align-items: center;\n`\nconst RightSide = styled.div``\n\n\nconst ViewHeader: React.FC<IViewHeader> = (props) => {\n    const { title = \"\", btn = false, btnClickHandler, disabled = false, children } = props\n    const iconSize = 24\n    const btnSize = \"small\"\n    const [ menuOpen, changeMenu ] = useState(false)\n\n    return (\n        <SViewHeader>\n\n            <LeftSide>\n                <Navigation>\n                    {\n                        (btn === \"menu\") ?\n                            <IconButton disabled={ disabled } size={ btnSize } onClick={ () => {\n                                changeMenu(menuOpen ? false : true)\n                                btnClickHandler()\n                            } }>\n                                {\n                                    menuOpen ?\n                                        <Close height={ iconSize } ></Close> :\n                                        <Menu height={ iconSize }></Menu>\n                                }\n\n                            </IconButton> : null\n                    }\n\n                    {\n                        (btn === \"close\") ?\n                            (<IconButton disabled={ disabled } size={ btnSize } onClick={ btnClickHandler }>\n                                <Close height={ iconSize } ></Close>\n\n                            </IconButton>) : null\n                    }\n\n                    {\n                        (btn === \"back\") ?\n                            (<IconButton disabled={ disabled } size={ btnSize } onClick={ btnClickHandler }>\n                                <ArrowBack height={ iconSize } ></ArrowBack>\n                            </IconButton>) : null\n                    }\n                </Navigation>\n\n                <Title disabled={ disabled }>\n                    { title }\n                </Title>\n            </LeftSide>\n\n\n            <RightSide>\n                <RightControls>\n\n                </RightControls>\n\n                <SideMenu>\n\n                </SideMenu>\n            </RightSide>\n\n\n            { children }\n        </SViewHeader>\n    )\n}\n\nexport default ViewHeader\n","import styled, { css } from \"styled-components\"\n\n\nexport const SCards = styled.div`\n    position: relative;\n\n    height: 100vh;\n    overflow: hidden;\n`\n\nexport const SCard = styled.div`\n    border: 1px solid;\n    border-left-width: 3px;\n    border-right-width: 3px;\n    border-color: ${(props) => props.color};\n\n    &:not(:last-child) {\n        margin-bottom: 10px;\n    }\n\n    position: relative;\n/*\n    padding:10px 10px 10px 50px;\n    margin: 10px 0; */\n    overflow: hidden;\n`\n\nexport const AppBox = styled.div`\n    height: calc(100vh - 70px);\n`\n\nexport const CardsContainer = styled.div`\n    height: calc(100% - 60px);\n    overflow-y: auto;\n\n    padding:0 10px 10px 10px;\n\n    @media screen and (max-width: 1024px) {\n        padding: 5px;\n    }\n`\n\nexport const SCardHeader = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n\n    width: 40px;\n`\n\nexport const SCardIcon = styled.img`\n    object-fit: cover;\n\n    height: 30px;\n    width: 30px;\n`\n\nexport const SCardIconWrapper = styled.div`\n    color: ${(props) => props.color};\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`\n\nexport const SCardTitle = styled.div`\n    color: #444444;\n    font-size: 20px;\n\n    text-transform: capitalize;\n`\n\nexport const SCardSubtitle = styled.div`\n    display: flex;\n    align-items: center;\n\n    margin: 5px 0;\n\n    color: rgba(0, 0, 0, 0.54);\n    font-size: 14px;\n`\n\nexport const SCardLabel = styled.div`\n    color: #444;\n    font-size: 14px;\n\n    margin: 5px 0;\n`\n\nexport const SPhoneNumber = styled.div`\n    margin-left: 10px;\n`\n\nexport const SCardBody = styled.div`\n\n`\n\nexport const SCardOptionsBtn = styled.button`\n\n`\nexport const SCardViewBtn = styled.div`\n    position: absolute;\n    top: calc(50% - 15px);\n    right: 2px;\n`\n\n/* ----------------------------------------------------------\n                    CUSTOM MUI TABS\n----------------------------------------------------------- */\n\nexport const SCustomTabs = css`\n    && {\n        && .MuiTabs-indicator {\n            background-color: #ff3389;\n        }\n    }\n`\n\nexport const SCustomTab = css`\n    && {\n        min-width: 70px;\n        &:hover {\n            color: #ff8490;\n        }\n    }\n\n`\n/* ----------------------------------------------------------\n                    CARD VIEW STYLES\n----------------------------------------------------------- */\n\nexport const CardViewContainer = styled.div`\n\n`\n/* ----------------------------------------------------------\n                        ALL CARDS\n----------------------------------------------------------- */\n\nexport const SearchWrapper = styled.div`\n    background-color: #fff;\n\n    position: absolute;\n\n    margin-bottom: 20px;\n\n    z-index: 999;\n    width: 100%;\n`\n\n","import { CardActions as MUICardActions, IconButton } from \"@material-ui/core\"\nimport { ExpandMore, PhonelinkRing, Room } from \"@material-ui/icons\"\nimport React from \"react\"\nimport styled from \"styled-components\"\n\nconst SCardActions = styled((props) => <MUICardActions { ...props } />)`\n   && {\n        padding: 5px 10px 10px 10px;\n   }\n`\n\nconst CardActions: React.FC = (props) => {\n    const { children } = props\n\n    return (\n        <SCardActions>\n            <IconButton aria-label=\"add to favorites\" size=\"small\">\n                <PhonelinkRing />\n            </IconButton>\n            <IconButton aria-label=\"share\" size=\"small\">\n                <Room />\n            </IconButton>\n\n            { children }\n        </SCardActions>\n    )\n}\n\nexport default CardActions\n","import { CardContent as MUICardContent } from \"@material-ui/core\"\nimport React from \"react\"\nimport styled from \"styled-components\"\n\nconst SCardContent = styled((props) => <MUICardContent { ...props } />)`\n   && {\n        padding: 0 16px;\n   }\n`\n\nconst CardContent: React.FC = (props) => {\n    const { children } = props\n    return (\n        <SCardContent>\n            { children }\n        </SCardContent>\n    )\n}\n\nexport default CardContent\n","import { PermContactCalendar } from \"@material-ui/icons\"\nimport React from \"react\"\nimport styled from \"styled-components\"\n\ninterface IOwnProps {\n    color?: string\n    contact?: boolean\n    iconSrc?: string\n}\n\nconst SAvatar = styled.div`\n    color: ${(props) => props.color};\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`\n\nconst SCardIcon = styled.img`\n    object-fit: cover;\n\n    height: 30px;\n    width: 30px;\n`\n\nconst Avatar: React.FC<IOwnProps> = (props) => {\n    const defaultIcon = \"https://cdn2.iconfinder.com/data/icons/metro-uinvert-dock/256/Default.png\"\n    const defaultColor = \"#bdbdbd\"\n    const { color = defaultColor, contact, iconSrc = defaultIcon } = props\n\n    return (\n        <SAvatar color={ color }>\n            { contact && <PermContactCalendar fontSize=\"large\" color=\"inherit\" /> }\n            { (iconSrc && !contact) && <SCardIcon src={ iconSrc } /> }\n        </SAvatar>\n    )\n}\n\nexport default Avatar\n","import { CardHeader as MUICardHeader, IconButton } from \"@material-ui/core\"\nimport { MoreVert } from \"@material-ui/icons\"\nimport React from \"react\"\nimport { Link } from \"react-router-dom\"\nimport styled from \"styled-components\"\nimport { ICardHeader } from \"../redux/types\"\nimport Avatar from \"./Avatar\"\n\nconst SCardHeader = styled((props) => <MUICardHeader { ...props } />)`\n   && {\n       padding: 10px 10px 5px 10px;\n   }\n\n   && .MuiCardHeader-subheader {\n       text-transform: capitalize;\n   }\n`\n\nconst CardHeader: React.FC<ICardHeader> = (props) => {\n    const { title, subheader, avatar, path = \"\", color } = props\n    return (\n        <SCardHeader\n            avatar={ // TODO should make default look for not specified type of card\n                avatar ? <Avatar { ...avatar } color={ color } /> : <Avatar contact color={ color } /> }\n            action={\n                <IconButton to={ path } component={ Link }>\n                    <MoreVert></MoreVert>\n                </IconButton>\n            }\n            title={ title }\n            subheader={ subheader }\n        >\n\n        </SCardHeader>\n    )\n}\n\nexport default CardHeader\n","import {\n    AccountBalance,\n    Apartment,\n    DirectionsBoat,\n    Email, EventNote,\n    Flag,\n    Home,\n    Language,\n    Link,\n    Person,\n    Phone,\n    Transform,\n} from \"@material-ui/icons\"\nimport React from \"react\"\nimport styled from \"styled-components\"\n\nexport type FontSize = \"small\" | \"medium\" | \"large\"\nexport type IconTypes =\n    \"phone\" |\n    \"address\" |\n    \"bankAccount\" |\n    \"email\" |\n    \"website\" |\n    \"url\" |\n    \"default\" |\n    \"ceo\" |\n    \"industry\" |\n    \"subIndustry\" |\n    \"url\" |\n    \"founded\" |\n    \"default\" |\n    \"noe\" |\n    \"sector\"\n\nexport interface IInfoProps {\n    size: FontSize\n    type: IconTypes\n    value: string\n    link?: string\n}\n\ntype Props = IInfoProps\n\ninterface IIcons {\n    [ key: string ]: React.FC<{ fontSize: string }>,\n}\n\nconst SCInfo = styled.div<{ size: string }>`\n        display: flex;\n        align-items: center;\n\n        margin: 5px 0;\n\n        color: rgba(0, 0, 0, 0.54);\n        font-size: ${(props) => props.size};\n`\n\nconst Content = styled.div<{ default: boolean }>`\n    margin-left: 10px;\n    padding-left: ${(props) => props.default ? \"18px\" : 0};\n`\n\nconst Anchor = styled.a`\n    border-bottom: 1px solid transparent;\n    color: rgba(0, 0, 0, 0.54);\n\n    margin-left: 10px;\n    transition: border-bottom 200ms ease-in-out;\n\n\n    &:hover {\n        border-bottom: 1px solid rgba(0, 0, 0, 0.11);\n    }\n`\n\nconst fontSizes = {\n    large: \"22px\",\n    medium: \"18px\",\n    small: \"14px\",\n}\n\nconst icons: IIcons = {\n    address: Home,\n    bankAcc: AccountBalance,\n    ceo: Person,\n    email: Email,\n    founded: Flag,\n    industry: Apartment,\n    noe: EventNote,\n    phone: Phone,\n    sector: DirectionsBoat,\n    subIndustry: Transform,\n    url: Link,\n    website: Language,\n}\n\nconst renderIcon = (type: IconTypes) => {\n    const Icon = icons[ type ]\n    if (Icon) {\n        return <Icon fontSize=\"inherit\" />\n    } else {\n        return null\n    }\n}\n\nconst Info: React.FC<Props> = (props) => {\n    const { size, type, value, children, link = false } = props\n\n    return (\n        <SCInfo size={ fontSizes[ size ] }>\n            { renderIcon(type) }\n            {\n                link ? <Anchor target=\"_blank\" href={ `//${value}` }>{ value }</Anchor> :\n                    <Content default={ type === \"default\" }>{ value }</Content>\n            }\n            { children }\n        </SCInfo>\n    )\n}\n\nexport default Info\n","import React from \"react\"\nimport Info, { FontSize } from \"./Info\"\n\ninterface IOwnProps {\n    size?: FontSize\n    value: string\n}\n\ntype Props = IOwnProps\n\nconst Default: React.FC<Props> = (props) => {\n    const { size = \"medium\", value } = props\n\n    return (\n        <Info type=\"default\" size={ size } value={ value } />\n    )\n}\n\nexport default Default\n","import React from \"react\"\nimport Info, { FontSize } from \"./Info\"\n\ninterface IOwnProps {\n    size?: FontSize\n    value: string\n}\n\ntype Props = IOwnProps\n\nconst Email: React.FC<Props> = (props) => {\n    const { size = \"medium\", value } = props\n\n    return (\n        <Info type=\"phone\" size={ size } value={ value } />\n    )\n}\n\nexport default Email\n","import Address from \"./sub_components/Address\"\nimport BankAccount from \"./sub_components/BankAccount\"\nimport Ceo from \"./sub_components/Ceo\"\nimport Default from \"./sub_components/Default\"\nimport Industry from \"./sub_components/Industry\"\nimport { FontSize } from \"./sub_components/Info\"\nimport Noe from \"./sub_components/Noe\"\nimport PhoneNumber from \"./sub_components/PhoneNumber\"\nimport Email from \"./sub_components/PhoneNumber\"\nimport Sector from \"./sub_components/Sector\"\nimport SubIndustry from \"./sub_components/SubIndustry\"\nimport Url from \"./sub_components/Url\"\nimport Website from \"./sub_components/Website\"\nimport YearFounded from \"./sub_components/YearFounded\"\n\ninterface ICompLoaderProps {\n    size?: FontSize\n    value: string\n}\n\nexport interface ICompLoader {\n    [ key: string ]: React.FC<ICompLoaderProps>\n}\n\nconst CompLoader: ICompLoader = {\n    address: Address,\n    bankAcc: BankAccount,\n    ceo: Ceo,\n    default: Default,\n    email: Email,\n    founded: YearFounded,\n    industry: Industry,\n    noe: Noe,\n    phoneNumber: PhoneNumber,\n    sector: Sector,\n    subIndustry: SubIndustry,\n    url: Url,\n    website: Website,\n}\n\nexport default CompLoader\n","import React from \"react\"\nimport Info, { FontSize } from \"./Info\"\n\ninterface IOwnProps {\n    size?: FontSize\n    value: string\n}\n\ntype Props = IOwnProps\n\nconst Email: React.FC<Props> = (props) => {\n    const { size = \"medium\", value } = props\n\n    return (\n        <Info type=\"address\" size={ size } value={ value } />\n    )\n}\n\nexport default Email\n","import React from \"react\"\nimport Info, { FontSize } from \"./Info\"\n\ninterface IOwnProps {\n    size?: FontSize\n    value: string\n}\n\ntype Props = IOwnProps\n\nconst BankAccount: React.FC<Props> = (props) => {\n    const { size = \"medium\", value } = props\n\n    return (\n        <Info type=\"bankAccount\" size={ size } value={ value } />\n    )\n}\n\nexport default BankAccount\n","import React from \"react\"\nimport Info, { FontSize } from \"./Info\"\n\ninterface IOwnProps {\n    size?: FontSize\n    value: string\n}\n\ntype Props = IOwnProps\n\nconst Ceo: React.FC<Props> = (props) => {\n    const { size = \"medium\", value } = props\n\n    return (\n        <Info type=\"ceo\" size={ size } value={ value } />\n    )\n}\n\nexport default Ceo\n","import React from \"react\"\nimport Info, { FontSize } from \"./Info\"\n\ninterface IOwnProps {\n    size?: FontSize\n    value: string\n}\n\ntype Props = IOwnProps\n\nconst YearFounded: React.FC<Props> = (props) => {\n    const { size = \"medium\", value } = props\n\n    return (\n        <Info type=\"founded\" size={ size } value={ value } />\n    )\n}\n\nexport default YearFounded\n","import React from \"react\"\nimport Info, { FontSize } from \"./Info\"\n\ninterface IOwnProps {\n    size?: FontSize\n    value: string\n}\n\ntype Props = IOwnProps\n\nconst Industry: React.FC<Props> = (props) => {\n    const { size = \"medium\", value } = props\n\n    return (\n        <Info type=\"industry\" size={ size } value={ value } />\n    )\n}\n\nexport default Industry\n","import React from \"react\"\nimport Info, { FontSize } from \"./Info\"\n\ninterface IOwnProps {\n    size?: FontSize\n    value: string\n}\n\ntype Props = IOwnProps\n\nconst Noe: React.FC<Props> = (props) => {\n    const { size = \"medium\", value } = props\n\n    return (\n        <Info type=\"noe\" size={ size } value={ value } />\n    )\n}\n\nexport default Noe\n","import React from \"react\"\nimport Info, { FontSize } from \"./Info\"\n\ninterface IOwnProps {\n    size?: FontSize\n    value: string\n}\n\ntype Props = IOwnProps\n\nconst Sector: React.FC<Props> = (props) => {\n    const { size = \"medium\", value } = props\n\n    return (\n        <Info type=\"sector\" size={ size } value={ value } />\n    )\n}\n\nexport default Sector\n","import React from \"react\"\nimport Info, { FontSize } from \"./Info\"\n\ninterface IOwnProps {\n    size?: FontSize\n    value: string\n}\n\ntype Props = IOwnProps\n\nconst SubIndustry: React.FC<Props> = (props) => {\n    const { size = \"medium\", value } = props\n\n    return (\n        <Info type=\"subIndustry\" size={ size } value={ value } />\n    )\n}\n\nexport default SubIndustry\n","import React from \"react\"\nimport Info, { FontSize } from \"./Info\"\n\ninterface IOwnProps {\n    size?: FontSize\n    value: string\n}\n\ntype Props = IOwnProps\n\nconst Url: React.FC<Props> = (props) => {\n    const { size = \"medium\", value } = props\n\n    return (\n        <Info type=\"url\" size={ size } value={ value } />\n    )\n}\n\nexport default Url\n","import React from \"react\"\nimport Info, { FontSize } from \"./Info\"\n\ninterface IOwnProps {\n    size?: FontSize\n    value: string\n    src?: string\n}\n\ntype Props = IOwnProps\n\nconst Website: React.FC<Props> = (props) => {\n    const { size = \"medium\", value, src = value } = props\n\n    return (\n        <Info type=\"website\" size={ size } value={ value } link={ src } />\n    )\n}\n\nexport default Website\n","import { Card as MCard, Divider, Fade } from \"@material-ui/core\"\nimport React, { useEffect } from \"react\"\nimport { DataTypes } from \"../../../service/data/demo_data\"\nimport { SCard } from \"../styles\"\nimport CardActions from \"./components/CardActions\"\nimport CardContent from \"./components/CardContent\"\nimport CardHeader from \"./components/CardHeader\"\nimport CompLoader from \"./components/CompLoader\"\nimport Default from \"./components/sub_components/Default\"\nimport { ICard } from \"./redux/types\"\n\ntype Props = ICard<DataTypes>\n\nconst Card: React.FC<Props> = (props) => {\n\n    const {\n        color,\n        header,\n        content,\n        actions,\n        appId,\n        id,\n        cardProps,\n        path,\n    } = props\n\n    return (\n        <Fade in={ true } timeout={ 200 }>\n            <SCard color={ color }>\n                <MCard elevation={ 0 } square={ true }>\n                    { /* {if there is path set explicitly render the path else --> the detailed view} */ }\n                    { header && <CardHeader { ...header } path={ path ? path : `/card/${appId}/${id}` } /> }\n\n                    <Divider variant=\"middle\" light />\n\n                    <CardContent>\n                        {\n                            content &&\n                            content\n                                .filter((item) => cardProps.includes(item.type))\n                                .map((item, i) => {\n                                    const Component = CompLoader[ item.compType ]\n                                    if (Component) {\n                                        return <Component key={ i } value={ item.value } size=\"small\" />\n                                    } else {\n                                        return <Default key={ i } value={ item.value } size=\"small\" />\n                                    }\n                                })\n                        }\n                    </CardContent>\n\n                    <Divider variant=\"middle\" light />\n\n                    { actions &&\n                        <CardActions>\n                            {  /* TODO customize card actions and pass some functionality  */ }\n\n\n                        </CardActions> }\n                </MCard>\n            </SCard>\n        </Fade>\n\n    )\n}\n\nexport default Card\n","import { Card as MCard, Fade } from \"@material-ui/core\"\nimport React from \"react\"\nimport { DataTypes } from \"../../../service/data/demo_data\"\nimport { SCard } from \"../styles\"\nimport CardHeader from \"./components/CardHeader\"\nimport { ICard } from \"./redux/types\"\n\ntype Props = ICard<DataTypes>\n\nconst CardCompact: React.FC<Props> = (props) => {\n\n    const {\n        color,\n        header,\n        appId,\n        id,\n        path,\n    } = props\n\n    return (\n        <Fade in={ true } timeout={ 200 }>\n            <SCard color={ color }>\n                <MCard elevation={ 0 } square={ true }>\n                    { /* {if there is path set explicitly render the path else --> the detailed view} */ }\n                    { header && <CardHeader { ...header } path={ path ? path : `/card/${appId}/${id}` } /> }\n                </MCard>\n            </SCard>\n        </Fade>\n    )\n}\n\nexport default CardCompact\n","import React from \"react\"\nimport styled from \"styled-components\"\n\ninterface IOwnProps { }\n\ntype Props = IOwnProps\n\nconst Actions = styled.div`\n    background-color: #ffffff;\n\n    display: flex;\n    align-items: center;\n    padding: 6px 28px 10px 10px;\n\n`\n\nconst AppActions: React.FC<Props> = (props) => {\n    const { children } = props\n\n\n    return (\n        <Actions>\n            { children }\n        </Actions>\n    )\n}\n\nexport default AppActions\n","import { IconButton, InputAdornment, TextField } from \"@material-ui/core\"\nimport { DragHandle, Search, ViewStream } from \"@material-ui/icons\"\nimport React, { ChangeEvent, useState, useEffect } from \"react\"\nimport { connect } from \"react-redux\"\nimport { RouteChildrenProps } from \"react-router\"\nimport ContentBox from \"../../components/ContentBox\"\nimport ViewHeader from \"../../components/ViewHeader\"\nimport { AppState } from \"../../redux/root\"\nimport { DataTypes } from \"../../service/data/demo_data\"\nimport Card from \"./card/Card\"\nimport CardCompact from \"./card/CardCompact\"\nimport { ICard } from \"./card/redux/types\"\nimport AppActions from \"./components/AppActions\"\nimport { AppBox, CardsContainer, SCards } from \"./styles\"\n\ninterface IOwnProps { }\n\ninterface IStateProps {\n    cards: Array<ICard<DataTypes>>\n    disabled: boolean\n}\n\nconst MapStateToProps = (state: AppState): IStateProps => ({\n    cards: state.cards,\n    disabled: state.uiDisabled,\n})\n\ntype Props = IOwnProps & RouteChildrenProps & IStateProps\n\nconst AllCardsView: React.FC<Props> = (props) => {\n    const { cards, history, disabled } = props\n    const [ cardsList, setCardsList ] = useState(cards)\n    const [ compact, setCompact ] = useState(true)\n    const [ searchValue, setSearchValue ] = useState(\"\")\n\n    const renderCards = () => (\n        cardsList.map((card: ICard<DataTypes>, i: number) =>\n            <Card { ...card } key={ i } />,\n        )\n    )\n\n    const renderCompactCards = () => (\n        cardsList.map((card: ICard<DataTypes>, i: number) =>\n            <CardCompact { ...card } key={ i } />,\n        )\n    )\n\n    useEffect(() => {\n        setCardsList(cards)\n    }, [cards])\n\n    return (\n        <SCards>\n            <ViewHeader\n                title={ \"All Cards\" }\n                btn=\"close\"\n                disabled={ disabled }\n                btnClickHandler={ () => history.push(\"/\") }\n            />\n\n            <AppBox>\n\n                <AppActions>\n                    <div style={ { marginRight: \"10px\" } }>\n                        <IconButton\n                            onClick={ () => compact ? setCompact(false) : setCompact(true) }\n                            aria-label=\"set compact view of the cards\"\n                            size=\"small\">\n                            { compact ? <ViewStream /> : <DragHandle /> }\n                        </IconButton>\n                    </div>\n                    <TextField\n                        value={ searchValue }\n                        onChange={ (ev: ChangeEvent<HTMLTextAreaElement>) => setSearchValue(ev.target.value) }\n                        id=\"standard-dense\"\n                        placeholder=\"Search...\"\n                        margin=\"dense\"\n                        fullWidth={ true }\n\n                        InputProps={ {\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    <Search htmlColor=\"#c1c1c1\" />\n                                </InputAdornment>\n                            ),\n                        } }\n                    />\n                </AppActions>\n\n                <CardsContainer>\n                    { compact ? renderCompactCards() : renderCards() }\n                </CardsContainer>\n\n            </AppBox>\n        </SCards>\n    )\n}\n\nexport default connect(MapStateToProps)(AllCardsView)\n","import { IconButton, InputAdornment, TextField } from \"@material-ui/core\"\nimport { DragHandle, Search, ViewStream } from \"@material-ui/icons\"\nimport React, { ChangeEvent, useEffect, useMemo, useState } from \"react\"\nimport { connect } from \"react-redux\"\nimport { RouteComponentProps } from \"react-router\"\nimport { useLastLocation } from \"react-router-last-location\"\nimport { AnyAction } from \"redux\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport ViewHeader from \"../../components/ViewHeader\"\nimport { disableUi, enableUi, initiateRemoveHighlights, setHighlights } from \"../../redux/actions\"\nimport { AppState } from \"../../redux/root\"\nimport { DataTypes } from \"../../service/data/demo_data\"\nimport { IApp } from \"../app_store/redux/types\"\nimport Card from \"./card/Card\"\nimport CardCompact from \"./card/CardCompact\"\nimport { ICard } from \"./card/redux/types\"\nimport AppActions from \"./components/AppActions\"\nimport { AppBox, CardsContainer, SCards } from \"./styles\"\n\ninterface IHashedInstalledApp {\n    [ key: string ]: IApp\n}\n\ninterface IRouteParams {\n    appId: string\n}\n\ninterface IOwnProps extends RouteComponentProps<IRouteParams> { }\n\ninterface IStateProps {\n    app: IApp\n    cards: Array<ICard<DataTypes>>\n    highlights: boolean\n    disabled: boolean\n}\n\ninterface IDispatchProps {\n    setHiLights: (connectorId: string, appId: string) => void\n    removeHiLights: (appId: string) => void\n    disblUi: () => void\n    enblUi: () => void\n}\n\n\n\nconst MapStateToProps = (state: AppState, ownProps: IOwnProps): IStateProps => {\n    const appId = ownProps.match.params.appId\n    const hashedInstalledApps = state.installed\n        .reduce<IHashedInstalledApp>((init: IHashedInstalledApp, app: IApp) => {\n            const result = { ...init }\n            result[ app.id ] = app\n            return result\n        }, {})\n\n    return {\n        app: hashedInstalledApps[ appId ],\n        cards: state.cards.filter((card) => card.appId === appId),\n        disabled: state.uiDisabled,\n        highlights: state.highlights,\n    }\n}\n\nconst MapDispatchToProps = (dispatch: ThunkDispatch<{}, {}, AnyAction>): IDispatchProps => ({\n    disblUi: () => dispatch(disableUi()),\n    enblUi: () => dispatch(enableUi()),\n    removeHiLights: (appId: string) => dispatch(initiateRemoveHighlights(appId)),\n    setHiLights: (\n        connectorId: string, appId: string,\n    ) => dispatch(setHighlights(connectorId, appId)),\n})\n\ntype Props = IOwnProps & IStateProps & IDispatchProps\n\nconst AppView: React.FC<Props> = (props) => {\n    const {\n        match,\n        history,\n        location,\n        cards,\n        app,\n        setHiLights,\n        removeHiLights,\n        enblUi,\n        disblUi,\n        highlights,\n        disabled,\n    } = props\n    const { appId } = match.params\n    const { connectorName, connectorId } = app\n    // hooks\n    const [ cardsList, changeCards ] = useState<Array<ICard<DataTypes>>>(cards)\n    const [ compact, setCompact ] = useState(true)\n    const [ searchValue, setSearchValue ] = useState(\"\")\n\n    // if we render particular cards we speicify it in the route with query params\n    const queryParams = new URLSearchParams(location.search)\n    const idParams = queryParams.get(\"id\")\n    const lastLocation = useLastLocation()\n\n    const renderCards = () => (\n        cardsList.map((card: ICard<DataTypes>, i: number) =>\n            <Card { ...card } key={ i } />,\n        )\n    )\n\n    const renderCompactCards = () => (\n        cardsList.map((card: ICard<DataTypes>, i: number) =>\n            <CardCompact { ...card } key={ i } />,\n        )\n    )\n\n    const hashedCards = useMemo(() => cards.reduce<{ [ key: string ]: ICard<DataTypes> }>((init, card) => {\n        init[ card.id ] = card\n        return init\n    }, {}), [ cards ])\n\n    useEffect(() => {\n        changeCards(cards)\n    }, [ cards ])\n\n    useEffect(() => {\n        // the filter can happen in redux tho\n        if (idParams) {\n            const ids = idParams.split(\",\")\n            const filteredCards = ids.map((cardId: string) => hashedCards[ cardId ])\n            changeCards(filteredCards)\n        }\n    }, [ idParams ])\n\n    useEffect(() => {\n        console.log(searchValue)\n    }, [ searchValue ])\n\n    useEffect(() => {\n        // you can pass state prop with the pathname to the Link comp or history.push\n        const dontRender = history.location.state && history.location.state.dontRender\n        // where we are comming from ?\n        const locationsRegex = new RegExp(`(card/${appId}|app/${appId})`, \"g\")\n        const lastLoc = lastLocation && lastLocation.pathname.match(locationsRegex)\n\n        // checks paths for witch we dont want to remove the highlights\n\n        const load = async () => {\n            if (!(dontRender || (lastLoc && highlights))) {\n                disblUi()\n                changeCards(cards.filter((card) => card.appId === appId))\n                await setHiLights(connectorId, appId)\n                enblUi()\n            }\n        }\n        load()\n\n        return () => {\n            const goingTo = history.location.pathname\n            const goingToUrlRegex = new RegExp(`(card/${appId}|app/${appId})`, \"g\")\n            const goingToMatches = goingTo.match(goingToUrlRegex)\n\n            if (!goingToMatches) {\n                removeHiLights(appId)\n            }\n        }\n    }, [\n        appId,\n        connectorId,\n        history.location.pathname,\n        history.location.state,\n        setHiLights,\n        removeHiLights,\n        disblUi,\n        enblUi,\n        // TODO find a way to fix the problem with missing dependencies --> \"react-hooks/exhaustive-deps\"\n    ])\n\n    return (\n        <SCards>\n            <ViewHeader\n                title={ connectorName }\n                btn=\"back\"\n                disabled={ disabled }\n                btnClickHandler={ () => history.push(\"/\") }\n            />\n\n            <AppBox>\n\n                <AppActions>\n                    <div style={ { marginRight: \"10px\" } }>\n                        <IconButton\n                            onClick={ () => compact ? setCompact(false) : setCompact(true) }\n                            aria-label=\"set compact view of the cards\"\n                            size=\"small\">\n                            { compact ? <ViewStream /> : <DragHandle /> }\n                        </IconButton>\n                    </div>\n                    <TextField\n                        value={ searchValue }\n                        onChange={ (ev: ChangeEvent<HTMLTextAreaElement>) => setSearchValue(ev.target.value) }\n                        id=\"standard-dense\"\n                        placeholder=\"Search...\"\n                        margin=\"dense\"\n                        fullWidth={ true }\n\n                        InputProps={ {\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    <Search htmlColor=\"#c1c1c1\" />\n                                </InputAdornment>\n                            ),\n                        } }\n                    />\n                </AppActions>\n\n                <CardsContainer>\n                    { compact ? renderCompactCards() : renderCards() }\n                </CardsContainer>\n\n            </AppBox>\n\n        </SCards>\n    )\n}\n\nexport default connect(MapStateToProps, MapDispatchToProps)(AppView)\n","import { Divider, Paper, Typography } from \"@material-ui/core\"\nimport React, { useEffect } from \"react\"\nimport { connect } from \"react-redux\"\nimport { RouteComponentProps } from \"react-router\"\nimport { AnyAction } from \"redux\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport styled from \"styled-components\"\nimport ViewHeader from \"../../../components/ViewHeader\"\nimport { initiateRemoveHighlights } from \"../../../redux/actions\"\nimport { AppState } from \"../../../redux/root\"\nimport { DataTypes } from \"../../../service/data/demo_data\"\nimport ensure from \"../../../utilities/ensure\"\nimport { IApp } from \"../../app_store/redux/types\"\nimport { CardViewContainer } from \"../styles\"\nimport defaultLogo from \"./../../../assets/logos/company_logo.svg\"\nimport CardActions from \"./components/CardActions\"\nimport CompLoader from \"./components/CompLoader\"\nimport Default from \"./components/sub_components/Default\"\nimport { ICard } from \"./redux/types\"\n\ninterface IRouteParams {\n    appId: string\n    cardId: string\n}\n\ninterface IOwnProps extends RouteComponentProps<IRouteParams> { }\n\ninterface IHashedInstalledApp {\n    [ key: string ]: IApp\n}\n\ninterface IStateProps {\n    app: IApp\n    cards: Array<ICard<DataTypes>>\n}\n\ninterface IDispatchProps {\n    removeHighlights: (appId: string) => void\n}\n\ntype Props = IOwnProps & IStateProps & IDispatchProps\n\nconst SCPaper = styled((props) => <Paper { ...props } />)`\n    background-color: ${(props) => props.backcolor}11 !important;\n\n    margin: 10px;\n    padding: 10px;\n\n\n    height: calc(100vh - 90px);\n    overflow-x: auto;\n\n    padding-bottom: 58px;\n\n    @media screen and (max-width: 1024px) {\n        height: calc(100vh - 80px);\n        margin: 5px;\n    }\n`\nconst SCTypoWrap = styled((props) => <Typography { ...props } />)`\n    && {\n        margin: 10px 0;\n        text-transform: capitalize;\n    }\n\n`\n\nconst SCDescWrap = styled((props) => <Typography { ...props } />)`\n    && {\n        border-top: 2px solid ${(props) => props.bordcolor};\n        border-bottom: 2px solid ${(props) => props.bordcolor};\n\n        padding: 30px 0;\n        margin: 30px 0 10px 0;\n    }\n\n`\n\nconst SCContentHeader = styled.div`\n    display:flex;\n    align-items: center;\n`\n\nconst Logo = styled.img`\n    margin-right: 10px;\n    width: 20%;\n`\n\nconst ActionsWrapper = styled.div`\n    margin-top: 20px;\n\n`\n\nconst MapStateToProps = (state: AppState, ownProps: IOwnProps): IStateProps => {\n    const hashedInstalledApps = state.installed\n        .reduce<IHashedInstalledApp>((init: IHashedInstalledApp, app: IApp) => {\n            const result = { ...init }\n            result[ app.id ] = app\n            return result\n        }, {})\n\n    return {\n        app: hashedInstalledApps[ ownProps.match.params.appId ],\n        cards: state.cards,\n    }\n}\n\nconst MapDispatchToProps = (dispatch: ThunkDispatch<{}, {}, AnyAction>): IDispatchProps => ({\n    removeHighlights: (appId: string) => dispatch(initiateRemoveHighlights(appId)),\n})\n\nconst CardView: React.FC<Props> = (props) => {\n    const { app, history, match, cards, removeHighlights } = props\n    const { appId, cardId } = match.params\n    const { connectorName, connectorId } = app\n\n    const card = ensure<ICard<DataTypes>>(\n        cards.find((c) => c.id.toString() === cardId.toString()),\n        `The card with such id does not exist.`,\n    )\n    const { header, content, actions } = card\n    useEffect(() => {\n        // connectorInstance.renderHighlights({ appId, type: connectorId })\n        return () => {\n            const goingTo = history.location.pathname\n            const goingToUrlRegex = new RegExp(`(card/${appId}|app/${appId})`, \"g\")\n            const goingToMatches = goingTo.match(goingToUrlRegex)\n            if (!goingToMatches) {\n                removeHighlights(appId)\n            }\n        }\n    }, [ appId, connectorId, history.location.pathname, removeHighlights ])\n\n    return (\n        <CardViewContainer>\n            <ViewHeader\n                title={ connectorName } btn=\"back\"\n                btnClickHandler={ () => history.push({\n                    pathname: `/app/${appId}`,\n                    state: {\n                        dontRender: true,\n                    },\n                }) } />\n\n            <SCPaper elevation={ 0 } square={ true } backcolor={ app.connectorColor }>\n\n                <SCContentHeader>\n\n                    <Logo src={ defaultLogo } />\n                    <SCTypoWrap variant=\"h4\" component=\"h1\">\n                        { header && header.title }\n                    </SCTypoWrap>\n\n                </SCContentHeader>\n\n                <SCTypoWrap variant=\"h5\" component=\"h5\">\n                    { header && header.subheader }\n                </SCTypoWrap>\n\n                <SCDescWrap bordcolor={ app.connectorColor } component=\"div\">\n                    {\n                        content && content.map((item, i) => {\n                            const Component = CompLoader[ item.compType ]\n                            if (Component) {\n                                return <Component key={ i } value={ item.value } size=\"medium\" />\n                            } else {\n                                return <Default key={ i } value={ item.value } size=\"medium\" />\n                            }\n                        })\n                    }\n                </SCDescWrap>\n\n                {\n                    actions &&\n                    <ActionsWrapper>\n\n                        <CardActions>\n                            {  /* TODO customize card actions and pass some functionality  */ }\n                        </CardActions>\n\n                    </ActionsWrapper>\n                }\n\n            </SCPaper>\n\n        </CardViewContainer >\n\n    )\n}\n\nexport default connect(MapStateToProps, MapDispatchToProps)(CardView)\n","import React from \"react\"\nimport styled from \"styled-components\"\n\nconst SContentBox = styled.div`\n    padding: 10px;\n    overflow-y: auto;\n    position: relative;\n\n    height: calc(100vh - 70px);\n\n    @media screen and (max-width: 1024px) {\n        padding: 5px;\n    }\n\n`\n\nconst ContentBox: React.FC = (props) => {\n    return (\n        <SContentBox>\n            { props.children }\n        </SContentBox>\n    )\n}\n\nexport default ContentBox\n","import { Link as RouterLink } from \"react-router-dom\"\nimport styled, { css } from \"styled-components\"\n\nexport const SCStore = styled.div`\n    height: 100vh;\n`\nexport const SCStoreList = styled.ul`\n    margin-bottom: 30px;\n`\nexport const ListTitle = styled.li`\n    font-size: 12px;\n    color: #666666;\n\n    padding: 10px 0;\n`\nexport const Item = css`\n    border-top: 1px solid #ccc;\n    cursor: pointer;\n\n    color: #444444;\n    font-size: 20px;\n    text-transfrom: capitalize;\n\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n\n    padding: 20px;\n\n    &:hover {\n        background-color: #f1f1f1;\n    }\n\n    @media screen and (max-width: 1024px) {\n        padding: 10px;\n    }\n`\nexport const Link = styled(RouterLink)`\n    display: block;\n    color: #444;\n`\n\nexport const Icon = styled.img`\n    margin-right: 20px;\n\n    @media screen and (max-width: 1024px) {\n        margin-right: 10px;\n    }\n\n    height: 40px;\n    width: 40px;\n`\n\nexport const Title = styled.div`\n    font-size: 16px;\n    font-weight: bold;\n`\nexport const SubTitle = styled.div`\n    font-size: 14px;\n    color: #777;\n`\n\n\n/* ----------------------------------------------------------\n                    STORE VIEW STYLES\n----------------------------------------------------------- */\n\n// const SCStoreView = styled.div`\n//     height: 100%;\n//     overflow-y: auto;\n// `\n\nexport const SVHeader = styled.div`\n    border-bottom: 1px solid #c1c1c1;\n\n    padding: 10px;\n`\n\nexport const SVIconWrapper = styled.div`\n    margin: 0 auto 30px;\n\n    width: 100px;\n    height: 100px;\n`\n\nexport const SVIcon = styled.img`\n    border-radius: 16px;\n\n    object-fit: cover;\n\n    height: 100%;\n    width: 100%;\n`\n\nexport const SVTitle = styled.h2`\n    font-size: 28px;\n`\n\nexport const SVDescription = styled.div`\n    padding: 10px;\n`\n\nexport const SVButtonStyles = css`\n    & .MuiButton-label {\n        font-size: 18px;\n    }\n\n    /* width: 100%; */\n`\nexport const SVInstallBox = styled.div`\n    display: flex;\n    align-items: center;\n    /* justify-content: center; */\n\n    padding: 20px 10px;\n\n    margin-bottom: 58px;\n\n    height: 83px;\n`\n\nexport const SVLProgress = css`\n    && {\n        /* flex-basis: 85%; */\n    }\n`\n\nexport const SCLinearProgressWrapper = styled.div`\n    height: 10px;\n    width: 80%;\n\n    position: absolute;\n\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n`\n\nexport const SCSuccessWrapper = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n`\n","import React from \"react\"\nimport styled from \"styled-components\"\nimport { Icon, Item, Link, SubTitle, Title } from \"../styles\"\nimport defaultIcon from \"./../../../assets/default_icon.svg\"\n\ninterface IStoreItemProps {\n    name: string\n    connectorId: string\n    appId?: string\n    installed?: boolean\n    icon: string\n    shortDescription?: string\n}\n\ninterface IStoreItemStyleProps {\n    installed: boolean\n}\n\ntype Props = IStoreItemProps\n\nconst SCStoreItem = styled.li<IStoreItemStyleProps>`\n    ${Item}\n`\n\nconst SCStoreLink = styled((props) => <Link { ...props } />)`\n    display: flex;\n`\n\nconst StoreItem: React.FC<Props> = (props) => {\n    const {\n        name,\n        appId,\n        connectorId,\n        installed = false,\n        icon = defaultIcon,\n        shortDescription = \"\",\n    } = props\n\n    return (\n        <SCStoreItem installed={ installed }>\n            <SCStoreLink to={ `/store/app/${connectorId}/${installed ? `${appId}` : \"0\"}` }>\n                <Icon src={ icon }></Icon>\n                <div>\n                    <Title>{ name }</Title>\n                    <SubTitle>{ shortDescription }</SubTitle>\n                </div>\n            </SCStoreLink>\n        </SCStoreItem>\n    )\n}\n\nexport default StoreItem\n","import React from \"react\"\nimport styled from \"styled-components\"\n\ninterface IOwnProps {\n    title: string\n}\n\nconst SStoreList = styled.ul`\n    margin-bottom: 30px;\n`\n\nconst ListTitle = styled.li`\n    font-size: 12px;\n    color: #666666;\n\n    padding: 10px 0;\n`\n\nconst StoreList: React.FC<IOwnProps> = (props) => {\n    const { children, title } = props\n    return (\n        <SStoreList>\n            <ListTitle>{ title }</ListTitle>\n            { children }\n        </SStoreList>\n    )\n}\n\nexport default StoreList\n","import { LinearProgress, TextField } from \"@material-ui/core\"\nimport React, { useEffect, useState } from \"react\"\nimport { connect, MapDispatchToProps } from \"react-redux\"\nimport { RouteComponentProps } from \"react-router\"\nimport { AnyAction } from \"redux\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport ContentBox from \"../../components/ContentBox\"\nimport ViewHeader from \"../../components/ViewHeader\"\nimport { disableUi, enableUi } from \"../../redux/actions\"\nimport { AppState } from \"../../redux/root\"\nimport { fetchConnectorDescriptors } from \"../app/redux/actions\"\nimport { IConnectorModel } from \"../app/redux/types\"\nimport StoreItem from \"./components/StoreItem\"\nimport StoreList from \"./components/StoreList\"\nimport { IApp } from \"./redux/types\"\nimport { SCLinearProgressWrapper, SCStore } from \"./styles\"\n\ninterface IStateProps {\n    installed: IApp[]\n    connectors: IConnectorModel[]\n    disabled: boolean\n}\n\ninterface IDispatchProps {\n    updateConnectorsList: () => void\n    disblUi: () => void\n    enblUi: () => void\n}\n\nconst MapPropsToState = (state: AppState): IStateProps => ({\n    connectors: state.connectors,\n    disabled: state.uiDisabled,\n    installed: state.installed,\n})\n\nconst mapDispatchToProps: MapDispatchToProps<IDispatchProps, {}> = (\n    dispatch: ThunkDispatch<{}, {}, AnyAction>,\n) => ({\n    disblUi: () => dispatch(disableUi()),\n    enblUi: () => dispatch(enableUi()),\n    updateConnectorsList: () => dispatch(fetchConnectorDescriptors()),\n\n})\n\ntype Props = IStateProps & RouteComponentProps & IDispatchProps\n\nconst Store: React.FC<Props> = (props) => {\n    const { installed, connectors, history, updateConnectorsList, disblUi, enblUi, disabled } = props\n    const [ connectorsUpdating, setUpdateConnectors ] = useState(false)\n\n    // loads the connectors only when the store component is mounted\n    // this prevents from fetching data at loading time of the app\n    useEffect(() => {\n        const load = async () => {\n            if (connectors.length === 0) {\n                setUpdateConnectors(true)\n                disblUi()\n                await updateConnectorsList()\n                setUpdateConnectors(false)\n                enblUi()\n            }\n        }\n        load()\n    }, [ updateConnectorsList, connectors.length, disblUi, enblUi ])\n\n    return (\n        <SCStore>\n\n            { props.children }\n\n            <ViewHeader\n                title=\"store\"\n                btn=\"close\"\n                disabled={ disabled }\n                btnClickHandler={ () => history.push(\"/\") }\n            />\n\n            {\n                !connectorsUpdating ?\n                    <ContentBox>\n\n                        <TextField\n                            label=\"Search apps\"\n                            type=\"search\"\n                            margin=\"normal\"\n                            variant=\"outlined\"\n                            fullWidth\n                        />\n\n                        { (installed.length > 0) &&\n                            <StoreList title={ `In your workspace (${installed.length})` }>\n                                {\n                                    installed.map(\n                                        (app: IApp, i: number) =>\n                                            <StoreItem\n                                                appId={ app.id }\n                                                installed={ true }\n                                                connectorId={ app.connectorId }\n                                                name={ app.connectorName }\n                                                icon={ app.connectorIcon }\n                                                shortDescription={ app.connectorShortDescription }\n                                                key={ i }\n                                            />)\n                                }\n                            </StoreList>\n\n                        }\n\n                        <StoreList title=\"Add apps to your workspace\">\n                            {\n                                connectors.map((con: IConnectorModel, i: number) =>\n                                    <StoreItem\n                                        connectorId={ con.id }\n                                        name={ con.name }\n                                        icon={ con.iconSrc }\n                                        shortDescription={ con.shortDescription }\n                                        key={ i }\n                                    />,\n                                )\n                            }\n                        </StoreList>\n\n\n                    </ContentBox> :\n                    <ContentBox>\n                        <SCLinearProgressWrapper>\n                            <LinearProgress />\n                        </SCLinearProgressWrapper>\n                    </ContentBox>\n            }\n\n        </SCStore>\n    )\n}\n\nexport default connect(MapPropsToState, mapDispatchToProps)(Store)\n","import { Dispatch } from \"redux\"\nimport ConnectorDescriptorList from \"../../../host/descriptor_list\"\nimport {\n    ADD_CONNECTOR,\n    IConnectorModel,\n    IConnectorsActionTypes,\n    REMOVE_CONNECTOR,\n    SET_CONNECTORS_LIST,\n} from \"./types\"\n\nexport const AddConnector = (connector: IConnectorModel): IConnectorsActionTypes => ({\n    connector,\n    type: ADD_CONNECTOR,\n})\n\nexport const RemoveConnector = (id: string): IConnectorsActionTypes => ({\n    id,\n    type: REMOVE_CONNECTOR,\n})\n\nexport const SetConnectorsList = (list: IConnectorModel[]): IConnectorsActionTypes => ({\n    list,\n    type: SET_CONNECTORS_LIST,\n})\n\n// redux thunk allows us to dispatch functions / this way we can handle async actions\nexport const fetchConnectorDescriptors = () => {\n    return async (dispatch: Dispatch) => {\n        const descriptors = await ConnectorDescriptorList.getDescriptors()\n        const descriptorsToInstall = descriptors.map((desc) => {\n            return {\n                color: desc.color,\n                description: desc.description,\n                iconSrc: desc.iconSrc,\n                id: desc.id,\n                name: desc.name,\n                shortDescription: desc.shortDescription,\n            }\n        })\n        dispatch(SetConnectorsList(descriptorsToInstall))\n    }\n}\n","export const ADD_CONNECTOR = \"ADD_CONNECTOR\"\nexport const REMOVE_CONNECTOR = \"REMOVE_CONNECTOR\"\nexport const SET_CONNECTORS_LIST = \"SET_CONNECTORS_LIST\"\nexport const UPDATE_CONNECTORS_LIST = \"UPDATE_CONNECTORS_LIST\"\n\nexport interface IConnectorModel {\n    id: string\n    name: string\n    color: string\n    iconSrc: string\n    description: string\n    shortDescription: string\n}\n\nexport interface IAddConnector {\n    type: typeof ADD_CONNECTOR\n    connector: IConnectorModel\n}\n\nexport interface IRemoveConnector {\n    type: typeof REMOVE_CONNECTOR\n    id: string\n}\n\nexport interface ISetConnectorsList {\n    type: typeof SET_CONNECTORS_LIST\n    list: IConnectorModel[]\n}\n\nexport type IConnectorsActionTypes = IAddConnector | IRemoveConnector | ISetConnectorsList\n","import { Button, CircularProgress } from \"@material-ui/core\"\nimport { Check } from \"@material-ui/icons\"\nimport React, { useState } from \"react\"\nimport { connect, MapDispatchToProps } from \"react-redux\"\nimport { RouteComponentProps } from \"react-router\"\nimport { AnyAction } from \"redux\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport styled from \"styled-components\"\nimport ContentBox from \"../../components/ContentBox\"\nimport ViewHeader from \"../../components/ViewHeader\"\nimport { disableUi, enableUi } from \"../../redux/actions\"\nimport { AppState } from \"../../redux/root\"\nimport ensure from \"../../utilities/ensure\"\nimport { RemoveCardsByAppId } from \"../app/card/redux/actions\"\nimport { IConnectorModel } from \"../app/redux/types\"\nimport { appInstallation, RemoveApp } from \"./redux/actions\"\nimport {\n    SCSuccessWrapper,\n    SVButtonStyles,\n    SVDescription,\n    SVHeader,\n    SVIcon,\n    SVIconWrapper,\n    SVInstallBox,\n    SVLProgress,\n    SVTitle,\n} from \"./styles\"\n\ninterface IRouteParams {\n    connectorId: string\n    appId: string\n}\n\ninterface IOwnProps extends RouteComponentProps<IRouteParams> { }\n\ninterface IStateProps {\n    connector: IConnectorModel\n    disabled: boolean\n}\n\ninterface IDispatchProps {\n    installApp: (descId: string) => void\n    removeApp: (id: string) => void\n    removeCardsById: (id: string) => void\n    disblUi: () => void\n    enblUi: () => void\n}\n\ntype Props = IOwnProps & IStateProps & IDispatchProps\n\nconst SVButton = styled(Button)`\n    ${SVButtonStyles}\n`\n\nconst SuccessButton = styled(Button)`\n    color: #4caf50 !important;\n    ${SVButtonStyles}\n`\n\nconst SVLinearProgress = styled(CircularProgress)`\n    ${SVLProgress}\n`\n\nconst mapDispatchToProps: MapDispatchToProps<IDispatchProps, {}> =\n    (dispatch: ThunkDispatch<{}, {}, AnyAction>): IDispatchProps => ({\n        disblUi: () => dispatch(disableUi()),\n        enblUi: () => dispatch(enableUi()),\n        installApp: (descId: string) => dispatch(appInstallation(descId)),\n        removeApp: (id: string) => dispatch(RemoveApp(id)),\n        removeCardsById: (id: string) => dispatch(RemoveCardsByAppId(id)),\n    })\n\nconst mapStateToProps = (state: AppState, ownProps: IOwnProps): IStateProps => {\n    const conId = ownProps.match.params.connectorId\n    const connector = ensure<IConnectorModel>(\n        state.connectors.find((con) => con.id === conId),\n        \"The app with such ID doesn't exist\",\n    )\n    return {\n        connector,\n        disabled: state.uiDisabled,\n    }\n}\n\n// component\nconst StoreView: React.FC<Props> = (props) => {\n    const { connector, history, installApp, removeApp, removeCardsById, match, disabled, disblUi, enblUi } = props\n    const { appId } = match.params\n    const { name, iconSrc, description, id } = connector\n    const [ appIsInstalled, setAppIsInstalled ] = useState((appId !== \"0\") ? true : false)\n    const [ installing, setInstalling ] = useState(false)\n    const [ successInstall, setSuccessInstall ] = useState(2)\n\n    const add = async () => {\n        disblUi()\n        setInstalling(true)\n\n        try {\n            await installApp(id)\n            setSuccessInstall(1)\n        } catch (e) {\n            // display error message\n            // there is functionality in react that handles error !!! TODO: error handling components\n            console.error(e)\n            setSuccessInstall(0)\n        } finally {\n            setInstalling(false)\n            enblUi()\n        }\n    }\n\n    const remove = () => {\n        setInstalling(true)\n        // make it async with some timeout\n        removeApp(appId)\n        removeCardsById(appId)\n        setInstalling(false)\n        setAppIsInstalled(false)\n    }\n\n    return (\n        <>\n            <ViewHeader title=\"Store\" btn=\"back\" disabled={ disabled } btnClickHandler={ () => history.goBack() } />\n\n            <ContentBox>\n                <SVHeader>\n                    <SVIconWrapper>\n                        <SVIcon src={ iconSrc } alt=\"connector icon\"></SVIcon>\n                    </SVIconWrapper>\n                    <SVTitle>{ name }</SVTitle>\n\n                </SVHeader>\n\n                <SVDescription >{ description }</SVDescription>\n\n                <SVInstallBox>\n                    {\n                        (installing) ?\n                            <SVLinearProgress /> :\n                            (appIsInstalled) ?\n                                <SVButton\n                                    disabled={ installing }\n                                    variant=\"outlined\"\n                                    onClick={ remove }\n                                >Remove</SVButton> :\n                                (successInstall === 2) ?\n                                    <SVButton\n                                        disabled={ installing }\n                                        variant=\"outlined\"\n                                        onClick={ add }\n                                    >Add</SVButton> :\n                                    (successInstall === 1) ?\n                                        <SCSuccessWrapper >\n                                            <SuccessButton\n                                                disabled={ true }\n                                                variant=\"outlined\"\n                                                onClick={ add }\n                                            >\n                                                <Check />\n                                                installed</SuccessButton>\n                                        </SCSuccessWrapper> :\n                                        <div>failed to install</div>\n\n                    }\n                </SVInstallBox>\n\n            </ContentBox>\n        </>\n\n    )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StoreView)\n","export interface IApp {\n    connectorName: string,\n    id: string\n    connectorId: string,\n    connectorColor: string\n    connectorIcon: string\n    connectorShortDescription: string\n    cardsCount: number\n}\n\nexport type IAppsState = IApp[]\n\n// we need multiple apps from the same type, each with its own state\n// actions \"installed apps\"\nexport const INSTALL_APP = \"INSTALL_APP\"\nexport const REMOVE_APP = \"REMOVE_APP\"\nexport const REMOVE_ALL_APPS = \"REMOVE_ALL_APPS\"\n\ninterface IInstallApp {\n    type: typeof INSTALL_APP\n    app: IApp\n}\n\ninterface IRemoveApp {\n    type: typeof REMOVE_APP\n    id: string\n}\n\ninterface IRemoveAllApps {\n    type: typeof REMOVE_ALL_APPS\n}\n\nexport type IAppInstallationActions = IInstallApp | IRemoveApp | IRemoveAllApps\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport { RouteChildrenProps } from \"react-router\"\nimport styled from \"styled-components\"\nimport { AppState } from \"../redux/root\"\n\ninterface ISDefaultViewStateProps extends RouteChildrenProps {\n    length: number\n}\n\nconst SDefaultView = styled.div`\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    text-transform: uppercase;\n\n    color: #aaa;\n    font-size: 28px;\n    font-weight: bold;\n    text-align: center;\n\n    padding: 20px;\n\n\n    @media screen and (max-width: 1024px) {\n        padding: 10px;\n    }\n\n    height: 100vh;\n`\n\nconst MapPropsToState = (state: AppState) => ({\n    length: state.installed.length,\n})\n\ntype IProps = ISDefaultViewStateProps\n\nconst DefaultView: React.FC<IProps> = (props) => {\n    const { length, history } = props\n    return (\n        <SDefaultView>\n            {\n                (length !== 0) ?\n                    // tslint:disable-next-line: max-line-length\n                    <div>Select one of the installed apps or add new one from the\n                    <div onClick={ () => history.push(\"/store\") }>\n                            Store\n                        </div>\n                    </div> :\n                    <div>Open the\n                        Store\n                 to add new application</div>\n            }\n        </SDefaultView >\n    )\n}\n\n\nexport default connect(MapPropsToState)(DefaultView)\n","import styled, { css } from \"styled-components\"\n\nexport const SCPanel = styled.ul`\n    border-left: 1px solid #c1c1c1;\n    color: white;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n\n    padding: 5px;\n\n    width: 70px;\n\n    z-index: 999;\n\n    @media screen and (max-width: 1024px) {\n        width: 60px;\n    }\n`\n\nexport const SAddBtnWrapper = styled.li`\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    position: absolute;\n\n    bottom: 10px;\n    left: 0;\n    right: 0;\n`\nexport const SAllBtn = css`\n    && {\n        font-size: 24px;\n        min-width: 100%;\n\n        @media screen and (max-width: 1024px) {\n            font-size: 18px;\n        }\n    }\n`\n\n\n/* --------------------------------------------------------\n            Styles for the CPanel Button\n   -------------------------------------------------------- */\n\nexport const PanelItem = styled.li`\n    position: relative;\n    line-height: 1;\n\n    width: 100%;\n`\n// customisation of the MUI button\nexport const SButton = css`\n    && {\n        min-width: 100%;\n    }\n\n    & .MuiButton-label {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n    }\n`\n\nexport const PanelIcon = styled.img<{ disabled: boolean }>`\n    ${({ disabled }) => disabled && `filter: grayscale(100%);`}\n    width: 100%;\n`\n\nexport const PanelBadge = styled.div`\n    border-radius: 10px;\n    background-color: ${(props) => props.color};\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    color: #fff;\n    font-size: 12px;\n\n    position: absolute;\n    top: 5px;\n    right: 0;\n\n    padding: 0 6px;\n\n    height: 20px;\n    min-width: 20px;\n\n    @media screen and (max-width: 1024px) {\n        border-radius: 10px;\n\n        font-size: 10px;\n\n        padding: 0 7px;\n    }\n`\nexport const PanelItemTitle = styled.span`\n    font-size: 10px;\n    font-weight: normal;\n    word-break: break-word;\n\n    overflow: hidden;\n\n    width: 100%;\n\n    @media screen and (max-width: 1024px) {\n        display: none;\n    }\n`\n","import { Button } from \"@material-ui/core\"\nimport React from \"react\"\nimport { Link } from \"react-router-dom\"\nimport styled from \"styled-components\"\nimport { PanelBadge, PanelIcon, PanelItemTitle, SButton } from \"./styles\"\n\ninterface IOwnProps {\n    iconSrc: string\n    path: string\n    count: number\n    badgeColor?: string\n    title: string\n    disabled: boolean\n}\n\nconst CPButton = styled(({ ...props }) => <Button { ...props } />)`\n   ${SButton}\n`\n\nconst SCPanelItem = styled.div`\n    position: relative;\n    line-height: 1;\n\n    width: 100%;\n`\n\ntype Props = IOwnProps\n\nconst PanelItem: React.FC<Props> = (props) => {\n    const { iconSrc, path, count, badgeColor = \"#777\", title, disabled } = props\n\n    return (\n        <SCPanelItem>\n            <CPButton\n                disabled={ disabled }\n                to={ path }\n                component={ Link }>\n                <PanelIcon src={ iconSrc } disabled={ disabled } />\n                { count > 0 && <PanelBadge color={ badgeColor }>{ !disabled && count }</PanelBadge> }\n                <PanelItemTitle>{ title }</PanelItemTitle>\n            </CPButton>\n        </SCPanelItem>\n    )\n}\n\nexport default PanelItem\n","import { Button, IconButton } from \"@material-ui/core\"\nimport { AddBox } from \"@material-ui/icons\"\nimport React, { useState } from \"react\"\nimport { connect } from \"react-redux\"\nimport { Link } from \"react-router-dom\"\nimport styled from \"styled-components\"\nimport { AppState } from \"../../redux/root\"\nimport { IApp } from \"../app_store/redux/types\"\nimport PanelItem from \"./PanelItem\"\nimport { PanelBadge, SAddBtnWrapper, SAllBtn, SCPanel } from \"./styles\"\nimport { ICard } from \"../app/card/redux/types\"\nimport { DataTypes } from \"../../service/data/demo_data\"\n\ninterface ICPanelProps {\n    installed: IApp[]\n    disabled: boolean\n    cards: ICard<DataTypes>[]\n}\n\nconst CPAllButton = styled(({ ...props }) => <Button { ...props } />)`\n    ${SAllBtn}\n`\n\nconst MapPropsToState = (state: AppState) => ({\n    disabled: state.uiDisabled,\n    installed: state.installed,\n    cards: state.cards,\n})\n\nconst CPanel: React.FC<ICPanelProps> = (props) => {\n    const { installed, disabled, cards } = props\n    const badgeColor = \"#777\"\n    const totalCards = cards.length\n\n\n    return (\n        <SCPanel>\n\n            <CPAllButton disabled={ totalCards === 0 || disabled } component={ Link } to=\"/card/all\">\n                All\n                { totalCards !== 0 && <PanelBadge color={ badgeColor }>{ !disabled && totalCards }</PanelBadge> }\n            </CPAllButton>\n\n            { props.children }\n\n            { installed.map((app: IApp, i: number) =>\n\n                <PanelItem\n                    key={ i }\n                    title={ app.connectorName }\n                    path={ `/app/${app.id}` }\n                    iconSrc={ app.connectorIcon }\n                    count={ cards.filter(card => card.appId === app.id).length }\n                    disabled={ disabled }\n                />,\n            ) }\n\n            <SAddBtnWrapper>\n                <IconButton to=\"/store\" component={ Link } disabled={ disabled }>\n                    <AddBox fontSize=\"large\" height={ 40 }></AddBox>\n                </IconButton>\n            </SAddBtnWrapper>\n\n        </SCPanel>\n    )\n}\n\nexport default connect(MapPropsToState)(CPanel)\n","import { Button, Card, CardActions, CardContent, IconButton } from \"@material-ui/core\"\nimport { Close } from \"@material-ui/icons\"\nimport React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport styled from \"styled-components\"\n\ninterface INotificationProps {\n    message?: string\n    closeHandler: () => void\n}\n\nconst Overlay = styled.div`\n    background-color: rgba(77,77,77,0.8);\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n\n    z-index: 99999999;\n`\n\nconst NCard = styled(({ ...props }) => <Card { ...props } />)`\n    && {\n        max-height: 95vw;\n        min-width: 200px;\n        max-width: 95vw;\n    }\n`\n\ntype Props = INotificationProps\n\nconst Notification: React.FC<Props> = (props) => {\n    const { children, closeHandler } = props\n    const domNode = document.getElementById(\"c-modal\") || document.body\n\n    return ReactDOM.createPortal(\n        <Overlay>\n            <NCard>\n\n                <CardActions>\n                    <IconButton onClick={ closeHandler }>\n                        <Close />\n                    </IconButton>\n                </CardActions>\n\n                <CardContent>\n                    { children }\n                </CardContent>\n\n\n            </NCard>\n        </Overlay>,\n        domNode,\n    )\n\n}\n\nexport default Notification\n","import { Paper, Table, TableBody, TableCell, TableHead, TableRow } from \"@material-ui/core\"\nimport React from \"react\"\nimport { RouteComponentProps } from \"react-router\"\nimport styled from \"styled-components\"\nimport Notification from \"../components/Notification\"\n\ninterface IOwnProps extends RouteComponentProps {}\n\ntype Props = IOwnProps\n\nconst TableView: React.FC<Props> = (props) => {\n    // hardcoded table\n    const { history } = props\n\n    return (\n        <Notification closeHandler={ () => history.goBack() }>\n\n            <Table aria-label=\"spanning table\">\n                <TableHead>\n                    <TableRow>\n                        <TableCell>Investors</TableCell>\n                        <TableCell align=\"right\">Commitment</TableCell>\n                        <TableCell align=\"right\">Investor's Capital at March 31, 2019</TableCell>\n                        <TableCell align=\"right\">Cash Distributions</TableCell>\n                        <TableCell align=\"right\">Net Investment Loss</TableCell>\n                        <TableCell align=\"right\">Net Realized Loss on Investment Transaction</TableCell>\n                        <TableCell align=\"right\">Net Change in Unrealized Depreciation of Investment</TableCell>\n                        <TableCell align=\"right\">Investor's Capital at June 30, 2019</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    { /* {rows.map(row => (\n                        <TableRow key={row.desc}>\n                        <TableCell>{row.desc}</TableCell>\n                        <TableCell align=\"right\">{row.qty}</TableCell>\n                        <TableCell align=\"right\">{row.unit}</TableCell>\n                        <TableCell align=\"right\">{ccyFormat(row.price)}</TableCell>\n                        </TableRow>\n                    ))} */}\n                    <TableRow>\n                        <TableCell rowSpan={ 3 } />\n                        <TableCell colSpan={ 2 }>Subtotal</TableCell>\n                        <TableCell align=\"right\">11</TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell>Tax</TableCell>\n                        <TableCell align=\"right\">333</TableCell>\n                        <TableCell align=\"right\">22</TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell colSpan={ 2 }>Total</TableCell>\n                        <TableCell align=\"right\">333 </TableCell>\n                    </TableRow>\n                </TableBody>\n            </Table>\n\n        </Notification>\n    )\n}\n\nexport default TableView\n","import React from \"react\"\nimport styled from \"styled-components\"\n\nconst SView = styled.div`\n    position: relative;\n\n    height: 100vh;\n    width: calc(100% - 70px);\n\n    @media screen and (max-width: 1024px) {\n        width: calc(100% - 60px);\n    }\n`\n\nconst View: React.FC<{}> = (props) => {\n    return (\n        <SView>\n            { props.children }\n        </SView>\n    )\n}\n\nexport default View\n","import React from \"react\"\nimport { Route, Switch } from \"react-router\"\nimport styled from \"styled-components\"\nimport AllCardsView from \"./app/AllCardsView\"\nimport AppView from \"./app/AppView\"\nimport CardView from \"./app/card/CardView\"\nimport CStore from \"./app_store/Store\"\nimport StoreView from \"./app_store/StoreView\"\nimport DefaultView from \"./DefaultView\"\nimport CPanel from \"./panel/CPanel\"\nimport TableView from \"./TableView\"\nimport View from \"./View\"\n\n\nconst SLeftPanel = styled.div`\n    border-left: 1px solid #c1c1c1;\n    position: relative;\n    background-color: #ffffff;\n`\nconst LeftPanel: React.FC = () => {\n\n    return (\n\n        <SLeftPanel>\n\n            <CPanel />\n\n            <View>\n\n                <Switch>\n\n                    <Route path=\"/\" exact component={ DefaultView } />\n                    <Route path=\"/store\" exact component={ CStore } />\n                    <Route\n                        // need the coonector id to load specific info related to the connector type\n                        // but we can store that info in the app object in the redux store\n                        path=\"/app/:appId\"\n                        component={ AppView } />\n\n                    <Route\n                        path=\"/card/all\"\n                        exact\n                        component={ AllCardsView }\n                    />\n\n                    <Route\n                        path=\"/store/app/:connectorId/:appId\"\n                        component={ StoreView }\n                    />\n\n                    <Route\n                        path=\"/card/:appId/:cardId\"\n                        component={ CardView }\n                    />\n\n                    <Route\n                        path=\"/table/:appId/:cardId\"\n                        component={ TableView }\n                    />\n\n                </Switch>\n\n            </View>\n\n        </SLeftPanel >\n    )\n}\n\nexport default LeftPanel\n","import { createMemoryHistory } from \"history\"\nimport React, { useEffect } from \"react\"\nimport { connect, MapStateToProps } from \"react-redux\"\nimport { Router } from \"react-router\"\nimport { LastLocationProvider } from \"react-router-last-location\"\nimport styled from \"styled-components\"\nimport GlobalStyles from \"./GlobalStyles\"\nimport { AppState } from \"./redux/root\"\nimport DocsMenu from \"./ui_app/document/DocsMenu\"\nimport LeftPanel from \"./ui_app/LeftPanel\"\nimport ensure from \"./utilities/ensure\"\n\ninterface IStateProps {\n  appIsOpen: boolean\n}\n\ntype Props = IStateProps\n\nconst SApp = styled.div<{ isOpen: boolean }>`\n    position: fixed;\n    top: 0;\n    right: ${(props) => props.isOpen ? \"0px\" : \"-480px\"};\n    width: 480px;\n\n    transition: right 200ms cubic-bezier(0.25, 0.46, 0.45, 0.94);\n\n    @media screen and (max-width: 480px) {\n      width: 100%;\n    }\n\n    z-index: 99999;\n`\n// declare history in separate module to be able to import it from everywhere\nconst history = createMemoryHistory()\n\nconst mapStateToProps: MapStateToProps<IStateProps, {}, AppState> = (state) => ({\n  appIsOpen: state.appIsOpen,\n})\n\nconst App: React.FC<Props> = (props) => {\n  const { appIsOpen } = props\n\n  useEffect(() => {\n    const { innerWidth } = window\n    if (innerWidth > 1024) {\n      document.body.style.paddingRight = \"480px\"\n    }\n\n  }, [ appIsOpen ])\n\n  const highlightClickHandler = (ev: MouseEvent) => {\n    const target = ev.target\n    if (target instanceof HTMLElement && target.tagName === \"CUSTOM-HIGHLIGHT\") {\n      const { id, reactAppId } = target.dataset\n      const ids = ensure<string>(id, \"The id is undefined.\").split(\",\")\n      if (ids.length > 1) {\n        history.push({\n          pathname: `/app/${reactAppId}`,\n          search: `?id=${ids}`,\n          state: {\n            dontRender: true,\n          },\n        })\n      } else {\n        history.push({\n          pathname: `/card/${reactAppId}/${id}`,\n        })\n      }\n    }\n  }\n\n  useEffect(() => {\n    document.body.addEventListener(\"click\", highlightClickHandler)\n\n    return () => {\n      document.body.removeEventListener(\"click\", highlightClickHandler)\n    }\n  }, [])\n\n\n  return (\n    <>\n      <Router history={ history }>\n        <LastLocationProvider>\n          <GlobalStyles />\n          <SApp isOpen={ appIsOpen }>\n            <LeftPanel />\n          </SApp>\n          <DocsMenu />\n        </LastLocationProvider>\n      </Router>\n    </>\n  )\n}\n\nexport default connect(mapStateToProps)(App)\n","import { ADD_CONNECTOR, IConnectorModel, IConnectorsActionTypes, REMOVE_CONNECTOR, SET_CONNECTORS_LIST } from \"./types\"\n\nconst initialState: IConnectorModel[] = []\n\nexport const connectorsReducer = (connectors = initialState, action: IConnectorsActionTypes): IConnectorModel[] => {\n    switch (action.type) {\n        case ADD_CONNECTOR:\n            return [ ...connectors, action.connector ]\n\n        case REMOVE_CONNECTOR:\n            return connectors.filter((con) => con.id !== action.id)\n\n        case SET_CONNECTORS_LIST:\n            return action.list\n\n        default:\n            return connectors\n    }\n}\n\n","import {\n    IApp,\n    IAppInstallationActions,\n    IAppsState, INSTALL_APP,\n    REMOVE_ALL_APPS,\n    REMOVE_APP,\n} from \"./types\"\n\nconst initInstalationState: IAppsState = []\n\nexport const installationReducer = (\n    state = initInstalationState,\n    action: IAppInstallationActions,\n): IAppsState => {\n    switch (action.type) {\n        case INSTALL_APP:\n            return [ ...state, action.app ]\n\n        case REMOVE_APP:\n            return state.filter((app: IApp) => app.id !== action.id)\n\n        case REMOVE_ALL_APPS:\n            return []\n\n        default:\n            return state\n    }\n}\n","import { CLOSE_APP, DocumentActions, IDocumentState, OPEN_APP, OpenCloseApp, SET_DOCUMENT_TYPE } from \"./types\"\n\nconst initialState: IDocumentState = {\n    type: \"\",\n}\n\nexport const documentReducer = (state: IDocumentState = initialState, action: DocumentActions) => {\n    switch (action.type) {\n        case SET_DOCUMENT_TYPE:\n            return Object.assign({}, state, { type: action.documentType })\n\n\n        default:\n            return state\n    }\n}\n\nexport const appIsOpenReducer = (state: boolean = false, action: OpenCloseApp) => {\n    switch (action.type) {\n        case OPEN_APP:\n            return true\n\n        case CLOSE_APP:\n            return false\n\n        default:\n            return state\n    }\n}\n","import { combineReducers } from \"redux\"\nimport { cardsReducer } from \"../ui_app/app/card/redux/reducers\"\nimport { connectorsReducer } from \"../ui_app/app/redux/reducers\"\nimport { installationReducer } from \"../ui_app/app_store/redux/reducers\"\nimport { appIsOpenReducer, documentReducer } from \"../ui_app/document/redux/reducers\"\nimport { disableUiReducer, highlightsReducer } from \"./reducers\"\n\nconst rootReducer = combineReducers({\n    appIsOpen: appIsOpenReducer,\n    cards: cardsReducer,\n    connectors: connectorsReducer,\n    document: documentReducer,\n    highlights: highlightsReducer,\n    installed: installationReducer,\n    uiDisabled: disableUiReducer,\n})\n\nexport type AppState = ReturnType<typeof rootReducer>\nexport default rootReducer\n","import { DataTypes } from \"../../../../service/data/demo_data\"\nimport {\n    ADD_CARD,\n    ADD_CARDS,\n    ICard,\n    ICardActions,\n    ICardState,\n    REMOVE_ALL_CARDS,\n    REMOVE_CARD,\n    REMOVE_CARDS_BY_APP_ID,\n} from \"./types\"\n\ntype IInitialCardState = Array<ICard<DataTypes>>\n\nexport const cardsReducer = (state: IInitialCardState = [], action: ICardActions): ICardState => {\n    switch (action.type) {\n        case ADD_CARD:\n            return [ ...state, action.card ]\n\n        case REMOVE_CARD:\n            return state.filter((card) => !(card.appId === action.appId && card.id === action.cardId))\n\n        case ADD_CARDS:\n            return [ ...state, ...action.cards ]\n\n        case REMOVE_CARDS_BY_APP_ID:\n            return state.filter((card) => card.appId !== action.appId)\n\n        case REMOVE_ALL_CARDS:\n            return []\n\n        default:\n            return state\n    }\n}\n\n","import {\n    DISABLE_UI,\n    DisableUi,\n    ENABLE_UI,\n    HighlightActions,\n    REMOVE_HIGHLIGHTS,\n    SET_HIGHLIGHTS,\n} from \"./types\"\n\nexport const highlightsReducer = (\n    state: boolean = false,\n    action: HighlightActions,\n) => {\n    switch (action.type) {\n        case SET_HIGHLIGHTS:\n            return true\n\n        case REMOVE_HIGHLIGHTS:\n            return false\n\n        default:\n            return state\n    }\n}\n\nexport const disableUiReducer = (state: boolean = false, action: DisableUi) => {\n    switch (action.type) {\n        case DISABLE_UI:\n            return true\n\n        case ENABLE_UI:\n            return false\n\n        default:\n            return state\n    }\n}\n","import { applyMiddleware, createStore } from \"redux\"\nimport { composeWithDevTools } from \"redux-devtools-extension/developmentOnly\"\nimport { createLogger } from \"redux-logger\"\nimport thunkMiddleware from \"redux-thunk\"\n\nimport rootReducer from \"./root\"\n\nconst loggerMiddleware = createLogger()\nconst getMiddleware = () => {\n    if (process.env.NODE_ENV === \"production\") {\n        return applyMiddleware(thunkMiddleware)\n    }\n    return applyMiddleware(thunkMiddleware, loggerMiddleware)\n}\n\nconst composeEnhancers = composeWithDevTools({ trace: true, traceLimit: 25 })\n\nconst store = createStore(\n    rootReducer,\n    composeEnhancers(getMiddleware()),\n)\n\nexport default store\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === \"[::1]\" ||\n  // 127.0.0.1/8 is considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n  ),\n)\n\ninterface Config {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void\n  onUpdate?: (registration: ServiceWorkerRegistration) => void\n}\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [ key: string ]: string } }).env.PUBLIC_URL,\n      window.location.href,\n    )\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n            \"worker. To learn more, visit https://bit.ly/CRA-PWA\",\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\",\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\")\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\")\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\",\n      )\n    })\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister()\n    })\n  }\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider } from \"react-redux\"\nimport App from \"./App\"\nimport store from \"./redux/store\"\nimport * as serviceWorker from \"./serviceWorker\"\n\nReactDOM.render(\n\n    <Provider store={ store }>\n        <App />\n    </Provider>,\n\n    document.getElementById(\"root\"),\n)\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","module.exports = __webpack_public_path__ + \"static/media/cpu.470a8cae.svg\";","module.exports = __webpack_public_path__ + \"static/media/organization_dynamo.3a287d27.svg\";","module.exports = __webpack_public_path__ + \"static/media/individual_dynamo.c3e29cbd.svg\";","module.exports = __webpack_public_path__ + \"static/media/individual_quick_books.5d1b631a.svg\";","module.exports = __webpack_public_path__ + \"static/media/invoice_icon.4789b09f.svg\";","module.exports = __webpack_public_path__ + \"static/media/purchase_order_quick_books.76c87378.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACQCAMAAADQmBKKAAAAXVBMVEVMaXEsoBwsoBwsoBwsoBwsoBwsoBwsoBwsoBwsoBwsoBwsoBwsoBwsoBwsoBwsoBwsoBz///9huFWW0I7L6MdUskfY7dVGrDjz+fKJyoDl8+M5pip7xHGj1pyw3Kowlb+WAAAAEHRSTlMAoDAQ8MCA4GAgsECQ0FBwebVz+QAAAAlwSFlzAAARtwAAEbcBmmNTKwAABFBJREFUeNrVnOmC4iAMgEd7Wi+g1Npqff/H3N25rAqEQLDZ/J52PktISEjy8REu2bYum2IvZrIvmrLeZh/vl23ZVMIqVVNu3wizLgvhIUW5fgvNrhLeUu0SM20wND9Mm2Q4h0IESXFIQZPVlQiWqqbeeFmZiyjJS1KkmK9z/0p0NocA5xOJxjZtGkEmDcGOO+aCUPJj7OcpBLEUUR/pkAtyySOs0kokkVXocu1FItkHLds6F8kkD/C5tUgqNTMeNNFKJJcVMx4U0Vt4EERv4vEmqsXbpE7Lc1HqQk+0Dv+9Skqpr7hnQAu5yeOApDx1KJsNeZEY//UFJM8oon3CDfYNhCRybrWDoACSI0q3D2kUaA4kWyI1ijyv3oFG3KnWep4XVEASpUXimGTBHoAGQbBo0fHXDKjFPdkY41OxHJAwxbTVkkBVEh8fAfTqZbNqWaDqOVtTimWBRPn0gfKlgfKM/pQYBfSkRdXyQFWYl++VQS4UQA9e38Or9teblhZRFqCf85G+XXuUj92ANNMoHQIAfR0AJpDp7tF2gG5o6RYfoH8BgHL/n52fSncQjjfQX6TOS62dkU8rJR0QoO1reMW6k6QFckZJO3DF1FlSA8mzgtbMvmJXKemBpLwCa1bG8mCB7ESl0yoqmQpIKqdttOnzq/6Memp/RcNAn3836dcXWWNb11n6eX+dht5mDxTgy/rh5WWOs3XpZX9erSwCyGDtW7sSmaOf7vETD05i5ePth8eV66zxkNkKadCYYYGejKy2WaIM3mGni6AAEpcTvNMyi05rkCcA6JFIW7TaeJruPbZoANCjKenNJ2vjJpsknDcIARLD7MWTeZsZN9kIfdlQoLkujOZtVgArpmiBFLBmhTHtOsAmNRRo7gCuxqSs6aGbT+YpEGj2Y29GbwYsdE8N1APqaQSSPtnLQKD5hgkA0vRAOgpoogea8ECd14tDgVq3x/8vgNgtGWelZrLt2RnGRV3H3h2ypnSug9G5sjt+sDugsTvCsjvkswuD2AWK7EJpfskGdukYdgkrRErv/J3Sg4H0PfU36RGX0gtIesJAfllSS9ITnxaOBQLSwvjEeSQQlDjHXy1EAcFXC/jLlxggn8sX9PVUBJDX9RT6Ai8YyPMCD33FGQjkf8WJvQQOAUJdAvtek58DgdDX5EHlgq9AF1ORQe/9wkNkqUXrEZlgpIotRqEGqmPLdYiBnsp1AgqaiIHK6JIvWqCXki+8FtEC1fFlg6RAFUFhJSnQlqD0lBKooSjOHeiAbBXVuPLljg7oSFPgPVIBFUQl8C0RkKuTAuX1LyMN0IGsjeI3to0CWhE2mvwQxQDtSVtxvqMklUaBgpqVrjoOaE3fzhXQxOX0qfwb3vi1BPJrmuTXVsqv8ZZfazK/5m1+7e38BgDwG5HAcIgEvzEb/AaRMBzVwm+YDcNxPwwHIvEbGcVwqBbHsWMMB7NxHF3Hcbhf0vGHfwAQcBRlygkksAAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/law.bcbc91e6.svg\";","module.exports = __webpack_public_path__ + \"static/media/dynamo.d700a644.png\";","module.exports = __webpack_public_path__ + \"static/media/table_icon.b6da2b52.svg\";"],"sourceRoot":""}